<!DOCTYPE html><html>
<head>

<title>
    杭州佳沃思_因果树
</title>
<meta name="Keywords" content="InnoTREE因果树创新创业双创平台，InnoTREE因果树，InnoTREE，因果树，创新创业双创平台，创新创业双创，滕放，帮主，创客帮，中国创新创业双创平台，北京创新创业双创平台，融资机构，投资机构，投融资机构，创业，创业项目，好项目，创业导师，商业计划书"/>
<meta name="description" content="因果树创新创业双创服务,InnoTREE因果树,InnoTREE,因果树,创新创业双创,滕放,帮主,创投大数据,融资机构,投资机构,创业,创业项目,创业导师,商业计划书"/>
<meta charset="UTF-8">
<meta name="baidu-site-verification" content="Za91L6pSoj"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="renderer" content="webkit">
<link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon"/>
<link rel="icon" href="/static/images/favicon.ico" type="image/x-icon"/>


    <link href='/static/inno/css/base.css?v=2e58dde3' rel='stylesheet' type='text/css'><link href='/static/inno/css/tooltips.css?v=a670fdd0' rel='stylesheet' type='text/css'><link href='/static/inno/css/iconfonts.css?v=8bf9f9c6' rel='stylesheet' type='text/css'><link href='/static/inno/css/head_180130.css?v=c48e7dc4' rel='stylesheet' type='text/css'><link href='/static/inno/css/bigData1.css?v=d1b77f73' rel='stylesheet' type='text/css'><link href='/static/inno/css/base.css?v=2e58dde3' rel='stylesheet' type='text/css'><link href='/static/inno/css/bigData1.css?v=d1b77f73' rel='stylesheet' type='text/css'><link href='/static/inno/css/onal_list_170918.css?v=2dffa487' rel='stylesheet' type='text/css'><link href='/static/inno/css/details_170918.css?v=469acb2d' rel='stylesheet' type='text/css'><link href='/static/inno/css/feedback.css?v=b08029cb' rel='stylesheet' type='text/css'><link href='/static/inno/css/force.css?v=22f3dc00' rel='stylesheet' type='text/css'>
   <style>
       .de_170822_con .mech_170525_nav_d01:before {
           top: 3px;
       }
       .details_170714_f_d {
           margin-top: -199px;
       }
   </style>
<style>
        #slideshow {
            margin:0 auto;
            width:100%;
            height:143px;
            position:relative;
            box-sizing: border-box;
        }
        #slideshow #slidesContainer {
            margin:0 auto;
            width:1100px;
            height:143px;
            overflow:hidden; /* allow scrollbar */
            position:relative;
        }
        #slideshow #slidesContainer .slide {
            margin:0 auto;
            width:1100px; /* reduce by 20 pixels of #slidesContainer to avoid horizontal scroll */
            height:143px;
        }
        /*两侧按钮*/
        .control {
            display:block;
            width:40px;
            height:143px;
            position:absolute;
            cursor: pointer;
        }
        #leftControl {
            top:0;
            left:15px;
        }
        #leftControl:after{content:"";width:10px;height:10px;border-left:2px solid #727171;border-top:2px solid #727171;position:absolute;top:50%;left:15px;margin-top:-5px;
            transform:rotate(-45deg);
            -ms-transform:rotate(-45deg); 	/* IE 9 */
            -moz-transform:rotate(-45deg); 	/* Firefox */
            -webkit-transform:rotate(-45deg); /* Safari 和 Chrome */
            -o-transform:rotate(-45deg); 	/* Opera */
        }
        #rightControl {
            top:0;
            right:15px;
        }
        #rightControl:after{content:"";width:10px;height:10px;border-right:2px solid #727171;border-top:2px solid #727171;position:absolute;top:50%;right:15px;margin-top:-5px;
            transform:rotate(45deg);
            -ms-transform:rotate(45deg); 	/* IE 9 */
            -moz-transform:rotate(45deg); 	/* Firefox */
            -webkit-transform:rotate(45deg); /* Safari 和 Chrome */
            -o-transform:rotate(45deg); 	/* Opera */
        }

/*
        .unfollow {
            background-color: #ffffff;
            color: #ffffff;'
        }*/
    </style><script type='text/javascript' src='/static/inno/js/common/tries.js?v=c4dce8be' charset='utf-8'></script><script type='text/javascript' src='/static/inno/js/common/meb.js?v=851d991e' charset='utf-8'></script><script type='text/javascript' src='/static/inno/js/common/jquery-3.2.1.min.js?v=904654e3' charset='utf-8'></script><script type='text/javascript' src='/static/js/commonUtil.js?v=0f581905' charset='utf-8'></script><script type='text/javascript' src='/static/js/sea-modules/clipbord/ZeroClipboard.js?v=a50cf200' charset='utf-8'></script><script type='text/javascript' src='/static/inno/js/common/vue.min.js?v=9cfa1585' charset='utf-8'></script><script type='text/javascript' src='/static/inno/js/common/lodash.min.js?v=b966383b' charset='utf-8'></script><script type='text/javascript' src='/static/inno/js/common/vue-resource.min.js?v=21976ee8' charset='utf-8'></script>
<script>
    if (typeof(console) == 'undefined') {
        window.console = {
            log: function () {
            }
        };
    };
    ;var _hmt = _hmt || [];
(function (document) {
    var config = {'www.innotree.cn':'37854ae85b75cf05012d4d71db2a355a','m.innotree.cn':'958bf338c97019fc0e383ddf1cb626a4'};
    var hm = document.createElement("script");
    var host = window.location.hostname;
    hm.src = "//hm.baidu.com/hm.js?" + (host in config?config[host]:'d68c884b445858a8e6b47bb982809cfc');
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);

    var bp = document.createElement('script');
    bp.src = '//push.zhanzhang.baidu.com/push.js';
    s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})(document);
    //InnoTREE 统计 js (function (document) {})(document);

//========================util S=================================
Date.prototype.Format = function (fmt) {
    var o = {
        "M+": this.getMonth() + 1, //月份
        "d+": this.getDate(), //日
        "h+": this.getHours(), //小时
        "m+": this.getMinutes(), //分
        "s+": this.getSeconds(), //秒
        "q+": Math.floor((this.getMonth() + 3) / 3), //季度
        "S": this.getMilliseconds() //毫秒
    };
    if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
    for (var k in o)
        if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
    return fmt;
}
//========================util E=================================


//========================collect S=================================

//ajax 上报日志
var _pushCollectLog = function () {
    var json = JSON.stringify(_paramLogs);
    _paramLogs.collect_word = '';
    _paramLogs.collect_id = '';
    _paramLogs.collect_type = 'click';
    $.ajax({
        url: '/collectlog/info.ajax',
        data: {json: json},
        type: 'post',
        dataType: 'json'
    }).then(function (ret) {
        console.log('ajax 上报日志 结果 :' + JSON.stringify(ret));
    });
};

//获取RequestUrl
var _requestUrl = function () {
    return window.location.href;
};

//获取RefererUrl
var _refererUrl = function () {
    var referrer = '';

    try {
        referrer = window.top.document.referrer;
    } catch (e) {
        if (window.parent) {
            try {
                referrer = window.parent.document.referrer;
            } catch (e2) {
                referrer = '';
            }
        }
    }
    if (referrer === '') {
        referrer = document.referrer;
    }
    return referrer;
};

// json 参数
var _paramLogs = {
    "source_type": "pc",
    "collect_type": 'click',
    "collect_key": '',
    "collect_word": '',
    "collect_id": '',
    "u_request_url": _requestUrl(),
    "u_referer_url": _refererUrl(),
    "u_agent": navigator.userAgent,
    "gen_time": (new Date()).Format("yyyy-MM-dd hh:mm:ss")
};


//========================collect E=================================


</script>
<script type='text/javascript' src='/static/js/sea-modules/jquery/1.11.3/jquery.js?v=d5aebfc6' charset='utf-8'></script>
<!--[if lt IE 9]>
<script>(function(tags){for(var i=0; i<tags.length; i++)document.createElement(tags[i]);})(["article","aside","details","figcaption","figure","footer","header","hgroup","nav","section","menu","video"]);</script>
<![endif]-->

    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?ddf0d99bc06024e29662071b7fc5044f";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <style type="text/css">
        [v-cloak] {
            display: none;
        }
    </style>
</head>
<body>
<div>
    <!--公共tab头部 s-->
    <!--王遥  头部导航 s-->

    <!--header 部分-->
    <div class="head_180130_nav" style="z-index: 9999;">
        <a href="/" class="head_180130_nav_logo">
            <img src="/static/inno/img/inno-form-logo.png" alt="">
        </a>

        <div class="head_180130_nav_v head_180130_nav_vip01">普通会员</div>

        <!--搜索框-->
        <div id="hsearchName" class="head_180130_nav_so" style="width: 317px;padding-left: 0px;border: 0px solid rgba(0,0,0,0.1);" v-cloak>
            <div class="selBigDate" style="padding:0;height: 0px;position: static;background: #fff;border-bottom: 0px solid #eee;">
                <div class="search" style="margin:0px">
                    <div class="input" id="hsInput" style="left: 0px;width: 317px;">
                        <!--搜索logo-->

                        <input id="hinputsearchname" type="text" class="plh" style="width: 80%;" placeholder="公司名、产品名、投资机构、标签名" v-model="searchName"   @keyup.enter="clickNameSug(searchName,1)"   @focus="suggestByNameShow()" @blur="suggestBlur()">
                        <a href="javascript:;" class="head_180130_nav_so_logo" @click="clickNameSug(searchName,1)"></a>

                        <div class="sug" v-show="nameHistoryshow" @click="nameSugDivClick()">
                            <div id="historys" class="searchTag" style="min-width: 200px;padding: 0;height: 200px;max-height: 270px;max-width: 317px;">
                                <ul class="ls" v-if="historyName != null">
                                    <li style="color: #999999;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;border-bottom: 1px solid #eee;line-height: 38px;">
                                        搜索历史
                                    </li>
                                    <li v-for ="(hisName,index) in historyName" @click="clickNameSug(hisName.query,0)" style="white-space: nowrap;text-overflow: ellipsis;overflow: hidden;border-bottom: 1px solid #eee;line-height: 38px;cursor: pointer;">
                                        {{hisName.query}}
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <div class="sug" v-show="nameSuggestshow" @click="nameSugDivClick()" style="min-width: 200px;max-width: 317px;">

                            <div id="namesugscroll" class="scroll" v-bind:style="{maxHeight:(suggestCompanyByName.count > 0 && suggestInstByName.count > 0 && suggestByTag.count > 0 )? '367px' :'260px'}">
                                        <span class="sort" v-if="suggestCompanyByName.count > 0">
                                        公司
                                        </span>
                                <ul class="ls" v-if="suggestCompanyByName.count > 0">
                                    <li v-for ="(company,index) in suggestCompanyByName.infos" v-if="index < 3" @click="clickNameSug(company.alias?company.alias:company.name,1)" >
                                        <img class="logo" v-bind:src="getimg(company.logo)" alt="项目logo">
                                        <h3 class="name" >
                                            {{company.alias?company.alias:company.name}}
                                            <span class="sm" v-if="company.round && company.round != 0">({{getround(company.round)}})</span>
                                        </h3>
                                        <p class="tag" v-if="companytags(company.tags).length > 0">
                                            <span v-for ="(tag,index) in companytags(company.tags)">{{tag}}</span>
                                        </p>
                                    </li>
                                </ul>
                                <span class="sort" v-if="suggestInstByName.count  > 0">机构
                                        </span>
                                <ul class="ls" v-if="suggestInstByName.count  > 0">
                                    <li v-for ="(inst,index) in suggestInstByName.infos" v-if="index < 3" @click="clickNameSug(inst.alias?inst.alias:inst.name,2)">
                                        <img class="logo" v-bind:src="getimg(inst.logo)" alt="项目logo">
                                        <h3 class="name" >
                                            <span style="max-width:200px;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;max-width: 180px;display: inline-block;">{{inst.alias?inst.alias:inst.name}}</span>
                                            <span class="sm" v-if="inst.investType" style="top: -8px;position: relative;">({{inst.investType}})</span>
                                        </h3>
                                        <p v-if="inst.investCount > 0" >{{inst.investCount}}+家投资案例</p>
                                    </li>
                                </ul>
                                <span class="sort" v-if="suggestByTag.count > 0">标签</span>
                                <ul class="searchTag" style="overflow: hidden; max-height: 380px;" v-if="suggestByTag.count > 0">
                                    <li v-for ="(tag,index) in suggestByTag.infos" @click="clickTag(tag.name,tag.type)" style="padding-left: 0px;">
                                        <a href="#">{{tag.name}}</a>
                                    </li>
                                </ul>
                            </div>

                            <a href="#" class="searchMore" style="position:relative;text-align: center;display: block;" @click="searchMore(0)"
                               v-if="(suggestCompanyByName.count>3 || suggestInstByName.count>3) && (suggestCompanyByName.count > 0 && suggestInstByName.count > 0)">搜索更多公司和投资机构</a>
                            <a href="#" class="searchMore" style="position:relative;text-align: center;display: block;" @click="searchMore(1)" v-if="suggestCompanyByName.count>3 && suggestInstByName.count <= 0">搜索更多公司</a>
                            <a href="#" class="searchMore" style="position:relative;text-align: center;display: block;" @click="searchMore(2)" v-if="suggestInstByName.count>3 && suggestCompanyByName.count <= 0">搜索更多投资机构</a>


                        </div>

                        <div class="sug" v-show="nameSuggestLoading" style="height: 40px;width: 200px;text-align: center;padding-top: 20px;">
                            <img src="/static/inno/img/dataloading.gif" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--会员服务-->

        <a href="/inno/static/about_member" class="head_180130_nav_vip_server">会员服务</a>

        <div class="head_180130_head_portrait_e">
            <div class="head_180130_head_portrait">
                <img src="/static/inno/img/defloathead.png" alt="" class="head_180130_head_portrait_img">
                <!--弹出框-->
                <div class="head_180130_d01">
                    <div class="head_180130_d01_d01">
                        <div class="head_180130_d01_d01_fl">
                            <div class="head_180130_d01_d01_img">
                                <img src="/static/inno/img/defloathead.png" alt="">
                            </div>
                            <div class="head_180130_d01_d01_name head_180130_ell">杨建</div>
                        </div>
                    </div>
                    <div class="head_180130_d01_d02">

                        <a href="/inno/user/change.html?ref=%2Finno%2Fcompany%2F13612882035495224421.html">修改密码</a>
                        <a href="javascript:void(0);" class="j_init_logout">退出</a>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!--左侧导航 部分-->
    <div class="navBigDate" style="top: 70px;overflow-y: auto;">
        <a class="nBar" href="/inno/static/solution">
            <img src="/static/inno/images/banner.jpg" alt="因果树广告">
        </a>
        <div class="dSort dSort1" style="height: 80px;">
            <span style="top: 40px;">发现</span>
        </div>
        <a href="/inno/database/totalDatabase" class="nSort on">
            <i class="iconDb-1"></i>
            <span style="font-size: 15px;">创投库</span>
        </a>
        <a href="/inno/report/" class="nSort ">
            <i class="iconDb-2"></i>
            <span style="font-size: 15px;">研报库</span>
        </a>
        <div class="dSort">
            <span>分析</span>
        </div>
        <a href="/inno/insight/newChain" class="nSort ">
            <i class="iconDb-3"></i>
            <span style="font-size: 15px;">产业链</span>
        </a>
        <a href="/inno/insight/bigdata/industry_matrix.html" class="nSort">
            <i class="iconDb-4"></i>
            <span style="font-size: 15px;">行业数据</span>
        </a>
        <a href="/inno/insight/cloudmap" class="nSort off">
            <i class="iconDb-5"></i>
            <span style="font-size: 15px;">云地图</span>
        </a>

        <div class="dSort">
            <span>工作台</span>
        </div>

        <a href="/inno/user/follow" class="nSort  ">
            <i class="iconDb-6"></i>
            <span style="font-size: 15px;">我的关注</span>
        </a>

    </div>
    <!--王遥  头部导航 e-->
    <!--头部 e-->

    <!--内容部分 s-->
    <!--内容部分 s-->
    <div id="company_base_info" class="content" style="padding: 0 0 0px;">
        <div class="de_170822_con de_180103_con">
            <div class="mech_170525_nav">
                <table>
                    <tr>
                        <td>

                            <img src="https://innotreelogo.qiniu.innotree.cn/Fker6LpZXpwSg3uiPKv3IlRaYdHe" class="mech_170525_nav_img" alt="">
                        </td>
                        <td>
                            <h3 class="mech_170525_nav_h3">
                                    杭州佳沃思
                                <span class="mech_170525_nav_h3_s01">
                                (A轮)
                                </span>

                            </h3>

                                    <div class="blk10"></div>

                            <div class="mech_170822_nav_d02">

                                    <a href="/inno/database/totalDatabase?areasName=浙江省" class="mech_170822_nav_d02_a01">浙江省</a>

                                    <span></span>

                            </div>
                        </td>
                    </tr>
                </table>
                <div class="blk30" style="height: 25px;"></div>

                        <div  id="tagsImg" class="mech_170525_nav_d01" style="padding-top: 16px;">
                            <span>TAG</span>

                                    <span><a href="/inno/database/totalDatabase?tagquery=连锁" style="color: #f36f20;font-size: 12px;">连锁</a></span>

                                    <span><a href="/inno/database/totalDatabase?tagquery=海外" style="color: #f36f20;font-size: 12px;">海外</a></span>

                                    <span><a href="/inno/database/totalDatabase?tagquery=医疗科技" style="color: #f36f20;font-size: 12px;">医疗科技</a></span>

                                    <span><a href="/inno/database/totalDatabase?tagquery=蓬勃发展" style="color: #f36f20;font-size: 12px;">蓬勃发展</a></span>

                                    <span><a href="/inno/database/totalDatabase?tagquery=医疗健康" style="color: #f36f20;font-size: 12px;">医疗健康</a></span>


                        </div>



                <a id="follow" target="_blank" data-bind="0" class="unfollow" style="right: 50px;top: 40px;cursor: pointer;">关注</a>
                <a id="feedback" target="_blank" class="mech_170712_a01" style="right: 50px;top: 80px;cursor: pointer;">反馈</a>

                <!--180103新添加 节点导航-->
                <div id="investbaseInfoTop" class="onal_180103_d01">
                    <a href="#company_base_info" class="onal_180103_d01_a_select">基本信息</a>

                    <a href="#financing_info">融资信息</a>

                    <a href="#foundersInfo_info">团队信息</a>


                    <a id="force_canvas_tab" href="#force_canvas_info" style="display: none;">公司参控股</a>
                    <a id="div_proj_tab" href="#div_proj" style="display: none;">产品信息</a>
                </div>
            </div>
        </div>
        <div id="company_detail_div" class="de_170822_con" style="z-index:99">
            <div class="blk20"></div>
            <!--基本信息-->
            <div class="de_170822_d01">
                <h3 class="de_170822_d01_h3">基本信息</h3>
                <div class="de_170822_d01_d">
                    <table>
                        <tr>
                            <td>
                                <span>公司中文名: </span>
                            </td>
                            <td>
                                <span>杭州佳沃思医疗科技有限公司</span>
                            </td>
                            <td>
                                <span>注册资本: </span>
                            </td>
                            <td>
                                <span>300.0000 万人民币</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>注册地址: </span>
                            </td>
                            <td>
                                <span>上城区紫金观巷26号606室</span>
                            </td>
                            <td>
                                <span>法人代表: </span>
                            </td>
                            <td>
                                <span>邹瑾</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>成立时间: </span>
                            </td>
                            <td>
                                <span>2016-08-01</span>

                            </td>
                            <td>
                                <span>官方联系方式: </span>
                            </td>
                            <td>

                                        <span>暂无</span>

                                <a href="javascript:;" class="de_170822_d01_d_a01">联系创始人</a>
                            </td>
                        </tr>
                    </table>
                </div>

                    <div class="de_170822_d01_d02">

                            <h3 class="de_170822_d01_d02_h3">公司简介:</h3>
                            <p class="de_170822_d01_d02_p de_170822_d01_d02_p02">    杭州佳沃思医疗科技有限公司 （Jarvis Medical Technology Co. Ltd.）是由优秀的海外归国人员创立的互联网＋医疗高科技创新企业。面向蓬勃发展的民营医疗健康领域，为连锁和独立齿科诊所和器械耗材供应商，提供国际先进的采购和供应链管理系统，全面的电子商务、培训和社交平台，以及完备的销售和物流渠道。
    我们致力于提升行业效率、降低交易成本，通过解放上下游生产力，使医生和患者获得更高质量的服务。创始人团队都毕业于世界顶尖的美国沃顿商学院，曾在国际顶级战略咨询公司、医疗器械行业担任高管，有10年以上的战略咨询、供应链管理、市场营销、渠道开拓，以及创业经验，在医疗和投资领域有着广泛的人脉和资源。
    目前公司受到众多一线风险投资机构及著名投资人的青睐，正在进行融资的接洽工作，有巨大的升值空间。诚邀有开拓精神，创新精神和丰富想象力的优秀人才与我们共同成长！在见证“独角兽”成长的路上，希望有你的陪伴和付出！ 

  我们能提供给我们的伙伴：  
＊完善的薪酬体系：五险一金，周末双休，竞争力薪资，绩效奖金，年终奖金，带薪年假，健康体检  
＊广阔的发展空间： 创始人亲带，晋升机会，职业培训  
＊有爱的工作氛围： 年度旅游，团队拓展，节日关怀  
＊丰富多彩的活动平台： 定期员工聚会，户外拓展，近郊踏青   

或许你很牛有野心，不甘平庸有胆识，不惧挑战有谋略，高瞻远瞩或许你很平凡踏实勤恳，认真负责老实忠厚，怀揣理想不管你是牛人还是凡人我们都可以一起打天下！想留下你奋斗的青春做一些与众不同的事情有一些意想不到的回报请加入我们！阿里巴巴有“阿里十八罗汉”的护持佳沃思也需要你的护持！</p>

                    </div>
                    <div class="blk10"></div>
                    <a href="javascript:;" class="de_170822_d01_d02_a">
                        <span class="onal_170826_d02_d07_a de_170822_d01_d02_a_s">展开</span>
                        <span class="de_170822_d01_d02_a_s01 de_170822_d01_d02_a_s_no">收起</span>
                    </a>


            </div>
            <div class="blk20"></div>

            <!--融资信息-->

                <div id="financing_info"  class="de_170822_d01">
                    <h3 class="de_170822_d01_h3">融资信息</h3>

                        <div class="de_170822_d01_d03">

                            <table>

                                    <tr>
                                        <td>
                                            <span>2019-06-06</span>
                                        </td>
                                        <td>
                                            <span><span class="">A轮</span></span>
                                        </td>
                                        <td>

                                            <span>未透露</span>
                                        </td>
                                        <td>

                                                        <a href="javascript:;"><span class="de_170822_d01_d03_s03">投资方未披露</span></a>

                                        </td>
                                    </tr>

                            </table>
                        </div>

                </div>
                <div class="blk20"></div>


            <!--团队信息-->

                <div id="foundersInfo_info"  class="de_170822_d01">
                    <h3 class="de_170822_d01_h3">团队信息</h3>

                        <div class="de_170822_d01_d05">
                            <table>

                                            <tr>
                                                <td>
                                                    <!--有头像时显示头像-->

                                                    <!--无头像时显示首字-->

                                                <span class="de_170822_d01_d05_s001">
                                                        王
                                                </span>

                                                </td>
                                                <td>
                                                    <span class="de_170822_d01_d05_s01">王飙</span>
                                                </td>
                                                <td>
                                                    <span>监事</span>
                                                </td>
                                                <td>
                                                    <div class="de_170822_d01_d05_d">
                                                        <p></p>
                                                    </div>
                                                </td>
                                            </tr>

                                            <tr class="de_171108_tr">
                                                <td>
                                                    <!--有头像时显示头像-->

                                                    <!--无头像时显示首字-->

                                                <span class="de_170822_d01_d05_s001">
                                                        邹
                                                </span>

                                                </td>
                                                <td>
                                                    <span class="de_170822_d01_d05_s01">邹瑾</span>
                                                </td>
                                                <td>
                                                    <span>执行董事兼总经理</span>
                                                </td>
                                                <td>
                                                    <div class="de_170822_d01_d05_d">
                                                        <p></p>
                                                    </div>
                                                </td>
                                            </tr>

                            </table>
                        </div>

                </div>
                <div class="blk20"></div>


            <!--股东信息-->


            <!--公司关系图 s-->
            <div id="force_canvas_info" class="de_170822_d02 f_c_divs">
                <h3 class="de_170822_d01_h3">公司参控股</h3>
                <!--力导向图部分 s-->
                <div class="force_Wrap pro_detail_force">
                    <canvas class="force_canvas" id="force_canvas" width="2400" height="1800" style=""></canvas>

                    <div class="force_minimap_w">
                        <div class="force_minimap" id="force_minimap">
                            <canvas class="wymin_canvas" id="wymin_canvas" width="2400" height="1800" style=""></canvas>
                            <svg class="force_minimap_brush" id="force_minimap_brush" width="960" height="1452"></svg>
                        </div>
                        <h3 class="force_minimap_tlt"></h3>
                        <a href="javascript:void(0);" class="force_minimap_close">
                            <svg id="force_minimap_cls" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7.25 7.25">
                                <defs><style>#force_minimap_cls .cls-1{fill:none;stroke:gray;stroke-miterlimit:10;}</style></defs>
                                <title>foce_close</title>
                                <line class="cls-1" x1="6.9" y1="0.35" x2="0.35" y2="6.9"/>
                                <line class="cls-1" x1="6.9" y1="6.9" x2="0.35" y2="0.35"/>
                            </svg>
                        </a>
                    </div>

                    <div class="force_tooltips">
                        <p>
                            <span class="fm">当前节点</span>
                            <span class="fc">企业</span>
                            <span class="fp">自然人</span>
                        </p>
                        <div class="f_sm">
                            直接关系公司<span class="fc_zj"></span>家<br>
                            直接关系自然人<span class="fp_zj"></span>人<br>
                            间接关系公司<span class="fc_jj"></span>家<br>
                            间接关系自然人<span class="fp_jj"></span>人
                        </div>
                    </div>
                    <a href="javascript:void(0);" class="force_qp">全屏查看</a>

                    <div class="force_mb">
                        <div class="force_lording">
                            <table>
                                <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!--力导向图部分 e-->
            </div>
            <!--公司关系图 e-->

            <!--产品信息-->
            <div class="de_170822_d02" id="div_proj" style="display: none">
                <!--浮窗 S-->
                <div class="de_170822_d02_fu" id="div_detail">
                    <!--关闭-->
                    <div class="de_170822_d02_fu_del" id="detail_del_btn"></div>
                    <h3 class="de_170822_d02_fu_h3" id="detail_title">摩拜单车活跃用户（DAU)</h3>
                    <!--柱形图-->
                    <div class="de_170822_d02_fu_d01">
                        <!--占位符-->

                        <!--提示窗-->

                        <div id="detail_chart" style="width:950px;height:320px;display:none" >

                        </div>
                        <div class="null_cyl" id="detail_chart_null" style="display: none;">
                            <img src="/static/turing_app/photos/null_cyl.png" alt="产业链为空" class="null_cyl_p" style="margin-top: 130px">
                            <p class="null_js">很抱歉，暂无相关结果</p>
                        </div>
                    </div>
                    <div class="blk60"></div>
                    <!--偶+得分-->
                    <div class="de_170822_d02_fu_d02">
                        <table>
                            <tr>
                                <td>
                                    <div class="de_170822_d02_fu_d02_d01">
                                        <p class="de_170822_d02_fu_d02_d01_p01">偶+得分</p>
                                        <p class="de_170822_d02_fu_d02_d01_p02" id="detail_score"></p>
                                        <!--提示窗-->
                                        <div class="de_170822_d02_fu_d02_d01_ti">
                                            <span>产品偶+得分：</span>表征一个产品的成长能力值，由产品品牌影响力(好搜指数、百度新
                                            闻搜索量)，市场接受能力(app下载量、dau)，母体公司支持力(pv/uv、职位浏览数
                                            公司人数、融资能力、分享度)，其分值(0-1000)
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <h3 class="de_170822_d02_fu_h3_02" id="detail_name"></h3>
                                    <p class="de_170822_d02_fu_p01" id="detail_intro">

                                    </p>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="blk20"></div>
                    <!--查看更多-->
                    <a href="/inno/static/know_more" class="de_170822_d02_fu_a01">查看更多</a>
                </div>
                <!--浮窗 E-->
                <div id="div_projs">
                    <!--产品信息 S-->
                    <div class="de_170822_d01">
                        <h3 class="de_170822_d01_h3">
                            产品信息
                            <!--提示问号-->
                            <span class="de_170822_d01_d06_wen">
                        <!--提示文本-->
                        <div class="de_170822_d01_d06_wen_d">
                            <p>
                                <span>偶+得分：</span>表征一个产品的成长能力值，由产品品牌影响力(好搜指数、百度新
                                闻搜索量)，市场接受能力(app下载量、dau)，母体公司支持力(pv/uv、职位浏览数
                                公司人数、融资能力、分享度)，其分值(0-1000)
                            </p>

                            <p>
                                <span>用户倾向性：</span>以公司产品为维度，根据运营商数据等指标计算出用户重合度比例
                            </p>
                        </div>
                    </span>
                        </h3>
                        <div class="blk10"></div>
                        <!--轮播图 S-->
                        <div class="de_170822_d01_d06">
                            <div id="slideshow1">
                                <div id="slidesContainer1">
                                </div>
                            </div>
                        </div>
                        <!--轮播图 e-->
                    </div>
                    <!--产品信息 E-->
                    <!--相似产品 S-->
                    <div class="de_170822_d01" id="div_similar" style="display: none">
                        <h3 class="de_170822_d01_d06_h3">相似产品</h3>
                        <!--轮播图 S-->
                        <div class="de_170822_d01_d06">
                            <div id="slideshow2">
                                <div id="slidesContainer2">
                                </div>
                            </div>
                        </div>
                        <!--轮播图 e-->
                    </div>
                    <!--相似产品 E-->
                    <!--用户重合度 S-->
                    <div class="de_170822_d01" id="div_coincidence" style="display: none">
                        <h3 class="de_170822_d01_d06_h3">用户倾向性</h3>
                        <!--轮播图 S-->
                        <div class="de_170822_d01_d06">
                            <div id="slideshow3">
                                <div id="slidesContainer3">
                                </div>
                            </div>
                        </div>
                        <!--轮播图 e-->
                    </div>
                    <!--用户重合度 E-->
                </div>
                <div class="blk30"></div>
            </div>
        </div>

    <!--内容部分 e-->
    <div class="blk50"></div>
    </div>
    <!--联系创始人弹窗 S-->
    <div class="details_170714_f" id="connect_box">
        <div class="details_170714_f_d">
            <!--del-->
            <div class="details_170714_f_d_del_cha"></div>

            <div class="details_170714_f_d_d01">
                请提供您的联系方式，我们平台会根据您的要求联系企业，后续反馈给您联系结果。
                请留意因果树来电，谢谢。
            </div>
            <div class="blk10"></div>
            <div class="details_170714_f_d_d02">
                <table>
                    <tr>
                        <td>
                            <span>姓&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;名</span>
                        </td>
                        <td>
                            <input type="text" id="name" class="details_170714_f_d_in01">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span>联系电话</span>
                        </td>
                        <td>
                            <input type="text" id="tel" class="details_170714_f_d_in01">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span>邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱</span>
                        </td>
                        <td>
                            <input type="text" id="email" class="details_170714_f_d_in01">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <span>微&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;信</span>
                        </td>
                        <td>
                            <input type="text" id="wechart" class="details_170714_f_d_in01">
                        </td>
                    </tr>
                </table>
            </div>
            <div class="blk30"></div>
            <!--备注内容-->
            <textarea class="details_170714_f_d_remarks" id="remark" placeholder="如有其他需求，请在此处备注"></textarea>
            <div class="blk20"></div>
            <input type="submit" class="details_170714_f_d_su" id="connect_submit" value="提 交">
        </div>
    </div>
    <!--联系创始人弹窗 E-->
    <div id="blackall" class="quanju_zhezhao" style="display:none;">
        <!--提示框-->
        <div class="quanju_tc" style="position:fixed;">
            <p class="quanju_tc_title">提示:</p>
            <p class="quanju_tc_content">
                提交成功！<br/>
            </p>
        </div>
    </div>
    <!--内容部分 e-->

    <!--页脚 s-->
    <!--<div style="height:214px;clear:both;"></div>-->

    <!--机器人 e-->
    <div class="inno_feedback">
        <a class="nomal wx" href="javascript:void(0);">
            <span class="if_icons icon-nwico_weibo2"></span> <br>
            <span class="if_wan">在 线<br>答 疑</span>
            <div class="ewm show_div o_hidden"><img src="/static/inno/photos/ewm_gzh.jpg" alt=""></div>
        </a><br>
        <a class="nomal fx" href="javascript:void(0);" id="_fx_btn">
            <span class="if_icons icon-nwico_fenxiang"></span> <br>
            <span class="if_wan">分 享<br>本 页</span>
        </a><br>
        <a class="nomal tel" href="javascript:void(0);">
            <span class="if_icons icon-nwico_telphone"></span> <br>
            <span class="if_wan">客 服<br>电 话</span>
            <div class="tel show_div o_hidden" style="height: 105px;"><span>客服电话：</span><br><span>010-53342595</span><br><span>销售电话：</span><br><span>18701512179（李子涵）</span></div>

        </a><br>
        <a class="nomal fb" href="/feedback" target="_blank">
            <span class="if_icons icon-nwico_edit2"></span> <br>
            <span class="if_wan">问 题<br>反 馈</span>
        </a><br>
        <a class="nomal top" href="javascript:void(0);">
            <span class="if_icons icon-nwico_totop2"></span> <br>
            <span class="if_wan">回 到<br>顶 部</span> </a><br>
        <a class="if_main nomal rabit" href="javascript:void(0);">
            <!--<span class="if_icons icon-wico_jqr"></span> <br>-->
            <div class="c4_logo_w"></div>
            <img src="/static/inno/img/inno_feedback_jqr.gif" alt="" class="icons_jqr">
        </a>


        <!--分享部分代码 s-->
        <div class="fx_wrap show_div hidden o_hidden">
            <div class="fx ">
                <a href="javascript:void(0)" class="close">
                    +
                </a>
                <div class="cont">
                    本页地址已复制到剪贴版，您可以粘贴到QQ/微博上 <br>
                    分享给您的好友！
                    <br class="clear">
                    <input type="text" id="inno_fb_fx" disabled="disabled" value="http://www.innotree.cn">
                    <br class="clear">
                    <a href="javascript:void(0)" class="fx_btn_ok _fx_close_btn">确定</a>
                    <a href="javascript:void(0)" class="fx_btn_cancel">取消</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        /**浮动窗 hover效果 s**/
        $("body").delegate( ".inno_feedback a", "mouseover", function(event){
            var show_div="";
            if($(this).hasClass("wx"))
                show_div=$(".inno_feedback div.ewm");
            if($(this).hasClass("tel"))
                show_div=$(".inno_feedback div.tel");
            if(show_div!=""){
                $(".inno_feedback>div").addClass("o_hidden");
                show_div.removeClass("o_hidden").addClass("ani_show222");
            }
        });
        /**浮动窗 hover效果 s**/
        $("body").delegate( ".inno_feedback a", "mouseout", function(event){
            var _div=$(".inno_feedback .show_div");

            _div.each(function() {
                if($(this).hasClass("fx_wrap"))
                    return false;
                else
                    $(this).addClass("o_hidden").removeClass("ani_show222");
            });

        });
        /**浮动窗 hover效果 e**/

        /**浮动窗 点击效果 s**/
        $("body").delegate( ".inno_feedback a", "click", function(event){
            var show_div="";
            if($(this).hasClass("top")) {
                $('html,body').animate({scrollTop: '0px'}, 200);
                $('.gototop').animate({scrollTop:'0px'},200);
            }
            if($(this).hasClass("wx"))
                show_div=$(".inno_feedback div.ewm");
            if($(this).hasClass("tel"))
                show_div=$(".inno_feedback div.tel");
            if($(this).hasClass("fx")){
                var _url=window.location.href,
                    _input=$("#inno_fb_fx");
                //这里写url
                _input.val(_url);

                show_div=$(".inno_feedback div.fx_wrap");
            }
            if(show_div!=""){
                //$("#fullpage").show();
                $(".inno_feedback>div").addClass("o_hidden");
                show_div.removeClass("o_hidden").removeClass("hidden");

            }
        });
        /**浮动窗 点击效果 e**/


        $("body").delegate( ".inno_feedback div.fx a", "click", function(event){
            event.preventDefault();
            var _self=$(this),
                _div=_self.parent().parent().parent();

            if(_self.hasClass("close")){
                _div=_self.parent().parent();
            }
            _div.addClass("hidden");
        });

        !function(){
            var client = new ZeroClipboard(document.getElementsByClassName("_fx_close_btn"));

            client.on("ready", function(readyEvent) {
                client.on("copy", function(event) {
                    var clipboard = event.clipboardData;
                    var copyText = window.location.href;
                    clipboard.setData("text/plain", copyText); // 将内容添加到剪切板
                });
            });
        }();
    </script>
    <script language="JavaScript">
        var submitInnoHeadBarSearch = function () {
            var query = $.trim($('#innoHeadSearchBarInput').val());
            if (!query) {
                return false;
            }
            checkSearchPop('/inno/search/toMiddleSearch?query=' + encodeURIComponent(query));

        }
        var enterSubmitInnoHeadBarSearch=function (event) {
            if (event.keyCode == 13) {
                submitInnoHeadBarSearch();
            }
        }

        $(document).on("click", ".srh-submit-9", function () {
            submitInnoHeadBarSearch();
        });
        //搜索输入的回车keyup事件
        $(document).on("keyup", "#innoHeadSearchBarInput", function (event) {
            if (event.keyCode == 13) {
                submitInnoHeadBarSearch();
            }
        });

    </script>

    <script language="JavaScript">
        var list_rounds_id=  (" 1    2     3       4       5      6      7   8       9      10   11     12      13     14   15   16    17    18     19      20       21     30       40    41     50       60    404").replace( /\s+/g, "|").split("|");
        var list_rounds=("  种子轮  天使轮  Pre-A轮   A轮     A+轮  Pre-B轮  B轮  B+轮  Pre-C轮   C轮  C+轮  Pre-D轮   D轮    D+轮  E轮   F轮   G轮    H轮   Pre-IPO 新三板  新三板定增  PIPE  IPO  股票增发   并购    战略投资  未透露").replace( /\s+/g, "|").split("|");

        var hvm = new Vue({
            el: '#hsearchName',
            data: {
                //搜索名称输入内容
                searchName: "",
                //搜索名称数据
                suggestInstByName: {
                    "count": 0,
                    "infos": []
                },
                //搜索名称机构数据
                suggestCompanyByName:{
                    "count":0,
                    "infos":[]
                },
                suggestByTag:{
                    "count":0,
                    "infos":[]
                },
                // 名称搜索返回数据为空
                nameSuggestIsNull: true,
                // 名称搜索显示
                nameSuggest: false,
                suggestByTags:false,
                querys: [],      // 名称搜索数组
                nameSugDivClickValue: false,
                nameSuggestLoading: false,

                //搜索名称历史数据
                historyName:{
                    "count":0,
                    "infos":[]
                },
                nameHistory:false,
                nameHistoryNull:false,
                nameHisDivClickValue:false,

                //按回车或点击查询按钮
                searchReady:false,
            },
            methods: {
                //点击热搜名称
                clickNameSug:function (sname,show) {
                    location.href="/inno/database/totalDatabase?query="+sname+"&show="+show;
                    event.stopPropagation();
                },
                searchMore:function (show) {
                    location.href="/inno/database/totalDatabase?query="+this.searchName+"&show="+show;
                    //this.fetchData();
                },
                clickTag:function (name,show) {
                    location.href="/inno/database/totalDatabase?tagquery="+name+"&show="+show;
                },
                //点击建议DIV时调用
                nameSugDivClick:function () {
                    $("#hinputsearchname")[0].focus();
                    this.nameSugDivClickValue = true;
                    event.stopPropagation();
                },

                //获取名称建议数据
                getSuggestByName: _.debounce(
                    function () {
                        this.nameSuggestLoading = true;
                        this.nameSuggest = false;
                        //var vm = this
                        //var url="/inno/search/ajax/suggest_cscyl";
                        var url="/inno/search/ajax/getSearchNameSuggestion?query="+this.searchName;

                        this.$http.get(url).then(function(data){
                            if(this.searchName.trim().length > 0){
                                var json=data.body;

                                this.suggestCompanyByName = json.data.company;
                                this.suggestInstByName = json.data.inst;
                                this.nameSuggestIsNull = (this.suggestCompanyByName.count <= 0  &&  this.suggestInstByName.count <= 0) ? true : false;
                                this.nameSuggest = (this.searchReady == true || (this.suggestCompanyByName.count <= 0  &&  this.suggestInstByName.count <= 0))? false : true ;
                                $("#namesugscroll").scrollTop(0);


                                // var _this = this;
                                // $.ajax({
                                //     url: '/inno/authority/getToken',
                                //     data: {},
                                //     dataType: 'json'
                                // }).success(function(ret) {
                                //
                                //     if (ret.code == 0 && ret.data.token.length > 0) {
                                //
                                //         try {
                                //             for(var i= 0;i < json.data.company.infos.length;i++){
                                //                 var _temp = json.data.company.infos[i].tags.split(",");
                                //                 var _temp1 = decryptByDES2(_temp, ret.data.token);
                                //                 json.data.company.infos[i].tags = _temp1.join(",");
                                //             }
                                //         }catch(err){
                                //             console.log(err);
                                //         }
                                //         _this.suggestCompanyByName = json.data.company;
                                //         _this.suggestInstByName = json.data.inst;
                                //         _this.nameSuggestIsNull = (_this.suggestCompanyByName.count <= 0  &&  _this.suggestInstByName.count <= 0) ? true : false;
                                //         _this.nameSuggest = (_this.searchReady == true || (_this.suggestCompanyByName.count <= 0  &&  _this.suggestInstByName.count <= 0))? false : true ;
                                //         $("#namesugscroll").scrollTop(0);
                                //     }
                                // })


                            }
                            this.nameSuggestLoading = false;
                            this.nameHistory = false;
                            //this.data.company=eval("(" + json +")");
                        },function(response){
                            console.info(response);
                        })
                    },
                    // 这是我们为判定用户停止输入等待的毫秒数
                    300
                ),

                //获取标签建议数据
                getSuggestByTag: function () {
                        var url="/inno/search/ajax/getSearchTagSuggestion?query="+this.searchName;;
                        //var vm = this
                        this.tagSuggestLoading = true;
                        this.tagSuggest = false;
                        this.$http.get(url).then(function(data){
                            this.nameSuggestLoading = false;
                            var json = data.body;
                            this.suggestByTags = true;
                            this.suggestByTag = json.data.tags;

                            //this.data.company=eval("(" + json +")");
                        },function(response){
                            console.info(response);
                        })
                    },

                //名称输入框点击获得焦点事件
                suggestByNameShow:function () {

                    var _str = this.searchName.trim();
                    $("#hsInput").css("border","1px solid #5dc5ba");
                    if (_str.length <= 0){
                        this.getHistoryName();
                        this.nameSuggest = false;
                        this.searchReady = true;
                        return false;
                    }
                    this.searchReady = false;
                    this.nameSuggest = true;
                },

                suggestBlur:function () {

                    $("#hsInput").css("border","1px solid #eee");
                },
                getHistoryName: function () {

                    var url="/inno/search/ajax/history/name?uid=467464";
                    this.$http.get(url).then(function(data){
                        var json=data.body;
                        if(json.code == 0 ){
                            this.historyName = json.data;
                            this.nameHistoryNull = this.historyName.length > 0 ? false:true;
                            this.nameHistory = true;
                            $("#historys").scrollTop(0);
                        }

                    },function(response){
                        console.info(response);
                    })
                },
                getimg:function (img) {
                    return img?img:'/static/inno/img/bmw_05.png';
                },
                getround:function (round) {
                    var roundStr = "";
                    for(var item in list_rounds_id ){

                        if(list_rounds_id[item] == round){

                            roundStr=list_rounds[item];
                            break;
                        }
                    }
                    return roundStr;
                },
                companytags:function (tags) {
                    var re = [];

                    if(tags && tags.length > 0){
                        re = tags.split(',');
                        return re;
                    }

                    return re;
                },
            },
            watch: {
                // 如果 `searchName` 发生改变，这个函数就会运行
                searchName: function () {
                    var _str = this.searchName.trim();
                    if (_str.length <= 0) {
                        this.nameSuggest = false;
                        return false;
                    }
                    this.searchReady = false;
                    this.getSuggestByName();
                    this.getSuggestByTag();
                },
                nameSuggestshow:function () {
                    $("#namesugscroll").scrollTop(0);
                },
                nameHistoryshow:function () {
                    $("#historys").scrollTop(0);
                },
            },
            computed: {
                nameSuggestshow: function () {
                    return (this.nameSuggest === true && this.nameSuggestIsNull === false) || this.suggestByTags === true;
                },
                nameHistoryshow:function () {
                    return this.nameHistory === true && this.nameHistoryNull===false;
                },
            }
        });

       document.addEventListener('click', function (e) {
            var hsInput = document.getElementById("hsInput");
            if (!hsInput.contains(e.target)){
                hvm.nameSuggest = false;
                hvm.nameHistory = false;
                hvm.suggestByTags = false;
            }
        });
    </script>

    <script>
        $(function(){
            var api_logout = '/ajax/uc/logout';
            $(document).on('click', ".j_init_logout", function(){
                $.post(api_logout, function (data){
                    if(data.code=="0"){

                            location.reload();

                    }else{
                        alert(data.msg);
                    }
                },"json");
            });

            //产业链选择
            $('.industry_chain_180301_nav > a').click(function(){
                $('.industry_chain_180301_nav > a').removeClass('industry_chain_180301_nav_select')
                $(this).toggleClass('industry_chain_180301_nav_select')
            });
            //展开 收起
            $('body').on('click','.industry_chain_180301_d02_table01_off',function () {
                var par_div = $(this).parent().parent().parent();
                $(this).toggleClass('industry_chain_180301_d02_table01_on');
                if(par_div.find('.industry_chain_180301_d02_table01_tr01').css("display") == "none"){
                    par_div.find('.industry_chain_180301_d02_table01_tr01').show()
                }else {
                    par_div.find('.industry_chain_180301_d02_table01_tr01').hide()
                }
            });

        });
    </script>
    <script>
        /**
         * 检查搜索权限（用于头部搜索框弹窗）
         */
        var checkSearchPop = function (targetUrl) {
            var rid = 3;
            if (targetUrl !== null || targetUrl !== undefined || targetUrl !== '') {
                var check = '/inno/user/preCheck';
                $.ajax({
                    url: check,
                    data: {
                        targetUrl: targetUrl
                    },
                    dataType: 'json',
                    success: function (ret) {
                        if (ret.code == 0 && ret.data) {
                            var data = ret.data;
                            if (data.checked) {
                                location.href = targetUrl;
                            } else {
                                if (data.rid != 5) {
                                    $('.quanju_zhezhao').find('.quanju_tc_content').html('今日搜索已达上限'+data.times+'条<br/>升级会员后方可查看更多!<br/>');
                                    $('.quanju_zhezhao').show();
                                    setTimeout(function(){
                                        $('.quanju_zhezhao').hide();
                                        location.href = '/inno/static/about_member';
                                    }, 3000);
                                }
                            }
                        }
                    },
                    error: function (errData) {
                        console.error(errData);
                    }
                })
            }
        }
        /**
         * 检查页内搜索权限（用于列表页搜索弹窗）
         */
        var checkAjaxSearchPop = function (targetUrl, fn) {
            var rid = 3;
            if (targetUrl !== null || targetUrl !== undefined || targetUrl !== '') {
                var check = '/inno/user/preCheck';
                $.ajax({
                    url: check,
                    data: {
                        targetUrl: targetUrl
                    },
                    dataType: 'json',
                    async: false,
                    success: function (ret) {
                        if (ret.code == 0 && ret.data) {
                            var data = ret.data;
                            if (data.checked) {
                                fn();
                            } else {
                                if(data.rid == 1 || data.rid == undefined){
                                    location.href = '/inno/user/login.html?ref='+'%2Finno%2Fcompany%2F13612882035495224421.html';
                                }else if (data.rid != 5){
                                    $('.quanju_zhezhao').find('.quanju_tc_content').html('今日搜索已达上限'+data.times+'条<br/>升级会员后方可查看更多！<br/>');
                                    $('.quanju_zhezhao').show();
                                    setTimeout(function(){
                                        $('.quanju_zhezhao').hide();
                                        location.href = '/inno/static/about_member';
                                    }, 800);
                                }
                            }
                        }
                    },
                    error: function (errData) {
                        console.error(errData);
                    }
                })
            }
        }

        /**
         * 检查公司/机构详情页访问权限（用于访问公司详情前弹窗）
         */
        var checkDetailPop = function (targetUrl) {
            var rid = 3;
            if (targetUrl !== null || targetUrl !== undefined || targetUrl !== '') {
                var check = '/inno/user/preCheck';
                $.ajax({
                    url: check,
                    data: {
                        targetUrl: targetUrl
                    },
                    dataType: 'json',
                    async: false,
                    success: function (ret) {
                        if (ret.code == 0 && ret.data) {
                            var data = ret.data;
                            if (data.checked) {
                                openwin(targetUrl);
                            } else {
                                if(data.rid == 1 || data.rid == undefined){
                                    location.href = '/inno/user/login.html?ref='+'%2Finno%2Fcompany%2F13612882035495224421.html';
                                }else if (data.rid != 5) {
                                    $('.quanju_zhezhao').find('.quanju_tc_content').html('普通用户最多可查看'+data.times+'条<br/>升级会员后方可查看更多!<br/>');
                                    $('.quanju_zhezhao').show();
                                    setTimeout(function(){
                                        $('.quanju_zhezhao').hide();
                                        location.href = '/inno/static/about_member';
                                    }, 3000);
                                }
                            }
                        }
                    },
                    error: function (errData) {
                        console.error(errData);
                    }
                })
            }
        }


        var getright = function (ret,type) {
            var rid = 3;
            if (ret.code == 0 && ret.data) {
                var data = ret.data;
                if (data.checked) {
                    if(type == 1){
                        $('.tanchuang_180131').find('#text01').html('公司基本信息（公司名、所在地、成立时间）');
                        $('.tanchuang_180131').find('#text02').html('公司资本信息（最近融资时间、融资金融、当前轮次）');
                    }else{
                        $('.tanchuang_180131').find('#text01').html('机构基本信息（机构名、投资类型、成立时间）');
                        $('.tanchuang_180131').find('#text02').html('机构资本信息（最近投资项目、最近投资笔数、总投资笔数、总退出笔数）');
                    }
                    $('.tanchuang_180131').find('.tanchuang_180131_p03').html('当前权限每日只能导出筛选结果的前' + data.times + '条数据，如有更多数据需求请联系<a href="/inno/static/about_member" style="color: #1aaab0">客户经理</a>');
                    $('.tanchuang_180131_but').show();
                    $('#nots').hide();
                    $('#tanchuangs').show();
                    return true;
                } else {
                    if (data.rid == 1 || rid == 1) {
                        location.href = '/inno/user/login.html?ref='+'%2Finno%2Fcompany%2F13612882035495224421.html';
                    } else{
                        if(type == 1){
                            $('.tanchuang_180131').find('#text01').html('公司基本信息（公司名、所在地、成立时间）');
                            $('.tanchuang_180131').find('#text02').html('公司资本信息（最近融资时间、融资金融、当前轮次）');
                        }else{
                            $('.tanchuang_180131').find('#text01').html('机构基本信息（机构名、投资类型、成立时间）');
                            $('.tanchuang_180131').find('#text02').html('机构资本信息（最近投资项目、最近投资笔数、总投资笔数、总退出笔数）');
                        }
                        $('.tanchuang_180131').find('.tanchuang_180131_p03').html('当前权限每日只能导出筛选结果的前' + data.times + '条数据，如有更多数据需求请联系<a href="/inno/static/about_member" style="color: #1aaab0">客户经理</a>');
                        $('.tanchuang_180131_but').hide();
                        $('#nots').show();
                        $('#tanchuangs').show();
                        return false;
                    }
                }
            }
        }

        var getright2 = function (ret,type) {
            var rid = 3;
            if (ret.code == 0 && ret.data) {
                var data = ret.data;
                if (data.checked) {
                    return true;
                } else {
                    if (data.rid == 1 || rid == 1) {
                        location.href = '/inno/user/login.html?ref='+'%2Finno%2Fcompany%2F13612882035495224421.html';
                    } else{
                        if(type == 1){
                            $('.tanchuang_180131').find('#text01').html('公司基本信息（公司名、所在地、成立时间）');
                            $('.tanchuang_180131').find('#text02').html('公司资本信息（最近融资时间、融资金融、当前轮次）');
                        }else{
                            $('.tanchuang_180131').find('#text01').html('机构基本信息（机构名、投资类型、成立时间）');
                            $('.tanchuang_180131').find('#text02').html('机构资本信息（最近投资项目、最近投资笔数、总投资笔数、总退出笔数）');
                        }
                        $('.tanchuang_180131').find('.tanchuang_180131_p03').html('当前权限每月只能导出筛选结果的前' + data.times + '条数据，如有更多数据需求请联系<a href="/inno/static/about_member" style="color: #1aaab0">客户经理</a>');
                        $('.tanchuang_180131_but').hide();
                        $('#nots').show();
                        $('.tanchuang_180131').show();
                        return false;
                    }
                }
            }
        }

        /**
         * 弹窗
         * @param  {string} url 跳转链接
         */
        function gotoUrl(url){
            var a = $('<a href="'+ url +'" target="_blank">链接</a>');  //生成一个临时链接对象
            var d = a.get(0);
            var e = document.createEvent('MouseEvents');
            e.initEvent( 'click', true, true );  //模拟点击操作
            d.dispatchEvent(e);
            a.remove();   // 点击后移除该对象
        }
        function openwin(url) {
   /*         var a = document.createElement("a");
            a.setAttribute("href", url);
            a.setAttribute("target", "_blank");
            a.setAttribute("id", "camnpr");
            document.body.appendChild(a);
            a.click();*/
            window.open(url);

        }

    </script>

    <script type='text/javascript' src='/static/js/lib/underscore-min.js?v=543feb1e' charset='utf-8'></script><script type='text/javascript' src='/static/js/lib/echarts.min.js?v=fcc2e5df' charset='utf-8'></script><script type='text/javascript' src='/static/js/lib/d3.v4.min.js?v=02d1553b' charset='utf-8'></script><script type='text/javascript' src='/static/js/sea-modules/scroll/perfect-scrollbar.jquery.min.js?v=cf1c19ba' charset='utf-8'></script><script type='text/javascript' src='/static/turing_app/js/innotree_svg.js?v=7f9f33c2' charset='utf-8'></script><script type='text/javascript' src='/static/js/sea-modules/jquery/1.11.3/jquery-html5Validate-min.js?v=cdedff1c' charset='utf-8'></script>

    <!--公司信息 -->


    <script>



     var tags_count = 0;
     // function hrefclick(tag){
     //     $.ajax({
     //         url: '/inno/authority/getToken',
     //         data: {},
     //         dataType: 'json'
     //     }).success(function(ret) {
     //         if (ret.code == 0 && ret.data.token.length > 0) {
     //             window.location.href = '/inno/database/totalDatabase?tagquery='+decryptByDES2(tag, ret.data.token);
     //         }
     //     });
     // }


    </script>
    <!--股东信息 -->
    <script>
        $(function(){
            var list = [];

            list = [];

            var _dau_color=["#49bf8c","#6bbbde","#ffab19","#f37b6f",
                    "#66cdcc","#98d055","#f7894d","#cc8ed7","#78a7fc","#f06292","#a095ff"],
                data = [],
                echart,
                sumRadio = 0,
                option;
            if (echart) {
                echart.dispose();
            }
            if (list == undefined || list.length == 0) {
                return;
            }
            console.info(list);
            echart = echarts.init($('#shareholder_chart')[0]);

            for (var i = 0, j = 0; i < list.length && j < 4; i++) {
                if (isEmptyValue(list[i].fundedRatio)) {
                    continue;
                }
                sumRadio += list[i].fundedRatio;
                data.push({
                    value: list[i].fundedRatio,
                    name: list[i].shareholderName
                });
                j++;
            }
            console.info('radio:' + sumRadio);

            if (sumRadio > 0) {
                if (sumRadio < 100) {
                    data.push({
                        value: (100 - sumRadio).toFixed(2),
                        name: '其他'
                    })
                }
                console.info(data);
                option = {
                    tooltip: {
                        trigger: 'item',
                        formatter: "{b}: {c}%"
                    },
                    series: [
                        {
                            name:'占比',
                            type:'pie',
                            radius: ['50%', '90%'],
                            avoidLabelOverlap: false,
                            label: {
                                normal: {
                                    show: false,
                                    position: 'inside',
                                    formatter: '{c}%'
//                                textStyle: {
//                                    fontSize: '30',
//                                    fontWeight: 'bold'
//                                }
                                },
                                emphasis: {
                                    show: false
                                }
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data: data
                        }
                    ],
                    color: _dau_color
                }
            } else {
//                var size = Math.min(4, list.length);
                for (var i = 0; i < list.length; i++) {
                    data.push({
                        value: 100/list.length,
                        name: list[i].shareholderName
                    })
                }
                option = {
                    tooltip: {
                        trigger: 'item',
                        formatter: "{b}: 未公开"
                    },
                    series: [
                        {
                            name:'占比',
                            type:'pie',
                            radius: ['50%', '90%'],
                            avoidLabelOverlap: false,
                            label: {
                                normal: {
                                    show: false,
                                    position: 'inside',
                                    formatter: '{c}%'
//                                textStyle: {
//                                    fontSize: '30',
//                                    fontWeight: 'bold'
//                                }
                                },
                                emphasis: {
                                    show: false
                                }
                            },
                            labelLine: {
                                normal: {
                                    show: false
                                }
                            },
                            data: data
                        }
                    ],
                    color: _dau_color
                }
            }

            echart.setOption(option);

        })
    </script>
    <!--产品信息-->
    <script>
        $(function(){
            proInit();
            function proInit(){
                $.ajax({
                    url: '/inno/company/ajax/projectlist',
                    data: {compId:'13612882035495224421'},
                    dataType: 'json'
                }).success(function(ret){
                    if (ret.code == 0){
                        drawProjDiv(ret.data);
                    }
                })
            };

            getfollowstatus();
            function getfollowstatus(){
                $.ajax({
                    url: "/ajax/followstatus/company",
                    data: {type: "c",id:'13612882035495224421'},
                    dataType: 'json'
                }).success(function(ret){
                    if (ret.code == 0) {
                        if(ret.data.status){
                            $("#follow").data("bind","1");
                            $("#follow").html("已关注");
                            $("#follow").addClass("followed")
                        }else{
                            $("#follow").data("bind","0");
                            $("#follow").html("关注");
                            $("#follow").removeClass("followed")

                        }
                    }else{
                        $("#follow").data("bind","0");
                        $("#follow").html("关注");
                        $("#follow").removeClass("followed")
                    }
                })
            }

            /**
             * 绘制产品信息div
             * @param data
             */
            function drawProjDiv (data) {
                var projs = data;
                var pid = '';

                if (projs.length == 0) {
                    return;
                }  else if (projs.length > 0) {
                    var html = [];
                    var index = -1;//点击向右滑动的次数
                    var size = 4;//每行产品个数
                    for (var i=0;i<Math.ceil(projs.length/size);i++) {
                        html.push('<div class="slide1"> <table> <tr>');
                        for (var j=0;j<size;j++) {
                            if((i*size+j)<projs.length) {
                                var proj = projs[i*size + j];
                                html.push('<td> <a href="javascript:;" class="" data-proj=',proj.pid,'> <div class="de_170822_d01_d06_d01"> <div class="de_170822_d01_d06_d01_d_zz"></div>');
                                html.push('<img src="',proj.logo==''||proj.logo==null?'/static/images/bmw_04.png':proj.logo,'" class="de_170822_d01_d06_d01_img" alt="">');
                                html.push('<div class="de_170822_d01_d06_d01_d"> <p class="de_170822_d01_d06_d01_p01">', proj.score == null?0:proj.score,'</p>');
                                html.push('<p class="de_170822_d01_d06_d01_p02">偶+得分</p> </div> </div> </a>');
                                if(proj.introduction == ""){
                                    html.push('<div class="de_170822_d01_d06_d02"> <a href="javascript:;">', proj.sName,'</a>','</div>');
                                }else{
                                    html.push('<div class="de_170822_d01_d06_d02"> <a href="javascript:;">', proj.sName,'</a>','<a href="javascript:;" class="de_170822_d01_d06_d02_a01" data-detail='+proj.pid+'>详情</a>','</div>');
                                }
                                if (proj.pid == pid)
                                    index = i;
                            } else {
                                html.push('<td></td>');
                            }
                        }
                        html.push('</tr> </table> </div>');
                    }
                    $('#slidesContainer1').html(html.join(''));
                    drawSlide1(index);

                    $('#div_proj_tab').show();
                    $('#div_proj').show();
                    clickProj(index);
                }
            }

            /**
             * 定位到某个产品并点击
             * @param index
             */
            function clickProj(index){
                if (index >= 0) {
                    // 取消自动点击滚动
                    // for (var i=0; i<index; i++) {
                    //     $('#rightControl1').click();
                    // }


                    $('#slidesContainer1').find('[data-proj]').each(function(){
                        if ($(this).data('proj') == '') {
                            $(this).click();
                        }
                    });
                } else {
                    $('#slidesContainer1').find('[data-proj]').eq(0).click();
                }
            }

            /**
             * 产品点击事件
             */
            $('#slidesContainer1').delegate('[data-proj]','click',function(){
                var pid = $(this).data('proj');
                $.ajax({
                    url: '/inno/company/ajax/projectdau',
                    data: {proId: pid},
                    dataType: 'json'
                }).success(function(ret){
                    if (ret.code == 0) {
                        drawDau(ret.data);
                    }
                })
            });

            /**
             * 绘制产品相关信息
             * @param data
             */
            function drawDau (data) {
                var similars = data.similars,
                    coincidences = data.appCovers,
                    html = [],
                    size = 5;

                if (similars.length > 0) {
                    for (var i=0;i<Math.ceil(Math.min(similars.length,10)/size);i++) {
                        html.push('<div id="slidesContainer2"> <div class="slide2"> <table> <tr>');
                        for (var j=0;j<size;j++) {
                            if((i*size+j)<similars.length) {
                                var similar = similars[i*size + j];
                                if (similar.compId != undefined && similar.compId != '') {
                                    html.push('<td> <a target="_blank" href="/inno/company/', similar.compId, '.html?proj=', similar.proId, '" target="_blank">');
                                } else {
                                    html.push('<td><a href="javascript:;">');
                                }
                                html.push('<img src="', similar.logo == '' || similar.logo == null ? '/static/images/bmw_04.png' : similar.logo, '" class="de_170822_d01_d06_d01_img02" alt="">');
                                html.push('<p class="de_170822_d01_d06_p01">', similar.name, '</p> </a> </td>');
                            } else {
                                html.push('<td></td>');
                            }
                        }
                        html.push('</tr> </table> </div> </div>');
                    }
                    $('#slideshow2').html(html.join(''));
                    drawSlide2();
                    $('#div_similar').show();
                } else {
                    $('#div_similar').hide();
                }

                html = [];
                if (coincidences.length > 0) {
                    for (var i=0;i<Math.ceil(Math.min(coincidences.length,10)/size);i++) {
                        html.push('<div id="slidesContainer3"> <div class="slide3"> <table> <tr>');
                        for (var j=0;j<size;j++) {
                            if((i*size+j)<coincidences.length) {
                                var coincidence = coincidences[i*size + j];
                                if (coincidence.compId != undefined && coincidence.compId != '') {
                                    html.push('<td> <a target="_blank" href="/inno/company/', coincidence.compId, '.html?proj=', coincidence.pid, '" target="_blank">');
                                } else {
                                    html.push('<td><a href="javascript:;">');
                                }
                                html.push('<img src="', coincidence.logo == '' || coincidence.logo == null ? '/static/images/bmw_04.png' : coincidence.logo, '" class="de_170822_d01_d06_d01_img02" alt="">');
                                html.push('<p class="de_170822_d01_d06_p01">', coincidence.name, '</p>');
                                // html.push('<span class="de_170822_d01_d06_s01">(', coincidence.value,')</span> </a> </td>');
                                html.push('</a></td>');

                            } else {
                                html.push('<td></td>');
                            }
                        }
                        html.push('</tr> </table> </div> </div>');
                    }
                    $('#slideshow3').html(html.join(''));
                    drawSlide3();
                    $('#div_coincidence').show();
                } else {
                    $('#div_coincidence').hide();
                }
                var pid = '';
                if (pid == '' || pid == undefined || pid.length == 0)
                    return;
                scrollTo(0, $('#div_proj').offset().top - 60);
            }

            /**
             * 产品详情点击事件
             */
            $('#slidesContainer1').delegate('[data-detail]','click',function(){
                var pid = $(this).data('detail');
                $.ajax({
                    url: '/inno/company/ajax/projectdau',
                    data: {proId: pid},
                    dataType: 'json'
                }).success(function(ret){
                    if (ret.code == 0) {
                        drawDetail(ret.data);
                    }
                })
            });

            /**
             * 绘制产品详情
             */
            function drawDetail(data) {
                var dau = data.daus,
                    score = data.score;

                if (score) {
                    $('#detail_title').text(score.name + '活跃用户（DAU)');
                    $('#detail_score').text(score.score);
                    $('#detail_name').text(score.name);
                    $('#detail_intro').text(score.introduction);
                }

                if (dau.length == 0) {
                    $('#detail_title').hide();
                    $('#detail_chart').parent().hide();
                } else {
                    $('#detail_title').show();
                    $('#detail_chart').show();
                    $('#detail_chart').parent().show();
                    drawDauChart(dau);

                }
                var height = $('#div_detail').innerHeight();
                $('#div_projs').hide();
                $('#div_proj').css('height', height);
                $('#div_detail').show();
            }

            /**
             * 绘制产品dau图表
             */
            var _dau_color=["#ffab19","#49bf8c","#f37b6f","#98d055","#6bbbde",
                "#66cdcc","#f7894d","#cc8ed7","#78a7fc","#f06292","#a095ff"];
            function drawDauChart(dau){
                var daus = [],
                    days = [];
                for (var i=dau.length-1;i>=0;i--){
                    daus.push(dau[i].dau);
                    days.push(dau[i].day);
                }
                var echart_dau = echarts.init($("#detail_chart")[0]);
                var option_dau = {
                    tooltip: {
                        trigger: 'axis',
                        axisPointer: {            // 坐标轴指示器，坐标轴触发有效
                            type: 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                        }
                    },
                    grid: {
                        left: '100px',
                        right: '100px',
                        bottom: '30px',
                        top:'30px',
                        show: false,
                        containLabel: true,
                        //borderColor:"rgba(0,0,0,0.1)"
                    },
                    xAxis: [
                        {
                            type: 'category',
                            data: days,
                            splitLine: {
                                show: false
                            },
                            axisLine:{
                                "show":false,
                                "lineStyle":{
                                    "color":"#d9dada"
                                }
                            },
                            axisLabel:{
                                interval:0,//横轴信息全部显示
//                                rotate:-30,//-30度角倾斜显示
                                show:true,
                                textStyle:{
                                    fontSize:"12",
                                    color:"#666666",
                                },
                                margin: 15
                            },
                            axisTick:{show: false},
                        }
                    ],
                    yAxis: [
                        {
                            type: 'value',
                            axisLabel: {
                                formatter: '{value}'
                            },
                            splitLine:{
                                show: true,
                                lineStyle: {
                                    color: "rgba(0,0,0,0.1)",
                                    type: "solid"
                                }
                            },
                            axisLine:{
                                lineStyle: {
                                    color: "rgba(0,0,0,0.1)",
                                    type: "solid"
                                }
                            },
                            textStyle: {
                                fontSize: "14",
                                color: "#666666"
                            },
                            nameTextStyle:{
                                "color":"#16a040"
                            },
                            axisTick:{show: false}
                        },
                        {
                            type: 'value',
                            axisLabel: {
                                show: false,
                                formatter: ''
                            },
                            splitLine:{
                                "show":false
                            },
                            axisLine:{
                                lineStyle: {
                                    color: "rgba(0,0,0,0.1)",
                                    type: "solid"
                                }
                            },
                            nameTextStyle:{
                                "color":"#1cb4ba"
                            },
                            axisTick:{show: false}
                        }
                    ],
                    series: {
                        name: 'DAU',
                        type: 'bar',
                        barMaxWidth: 30,
                        itemStyle: {
                            normal: {
                                color: '#1cb4ba'
                            }
                        },
                        data: daus
                    }
                };
                echart_dau.setOption(option_dau);
            }

            /**
             * 关闭浮窗
             */
            $('#detail_del_btn').on('click',function(){
                $('#div_proj').css('height', 'auto');
                $('#div_detail').hide();
                $('#div_projs').show();
            });

            $(window).scroll(function(){
                var this_scrollTop = $(this).scrollTop();
                var i=0;
                var j=0;
                $('.onal_180103_d01 a').each(function (){
                    var href = $(this).attr("href");
                    var pos = $(href).offset().top - 280;
                    if(!$(this).is(':hidden')){
                        if(this_scrollTop > pos ){
                            $(this).parent().find("a").removeClass("onal_180103_d01_a_select");
                            $(this).addClass("onal_180103_d01_a_select");
                        }
                        i++;
                    }

                });
                var scrollHeight = $(document).height();
                var windowHeight = $(this).height();
                if(this_scrollTop + windowHeight > scrollHeight-20){
                    $(".onal_180103_d01 a").removeClass("onal_180103_d01_a_select");

                    $('.onal_180103_d01 a').each(function (index) {
                        if (!$(this).is(':hidden')) {
                            if (j == i - 1) {
                                $(this).addClass("onal_180103_d01_a_select");
                            }
                            j++;
                        }
                    });
                }

                if(this_scrollTop > 218){

                        $("#investbaseInfoTop").css("position","fixed");
                        $("#investbaseInfoTop").css("z-index","100");
                        $("#investbaseInfoTop").css("background-color","#ffffff");
                        $("#investbaseInfoTop").css("top","70px");
                        $("#investbaseInfoTop").css("padding-left","60px");
                        $("#investbaseInfoTop").css("left","168px");
                        $("#investbaseInfoTop").css("box-shadow","0 3px 8px rgba(229,229,229,.5)");
                    }else{
                        $("#investbaseInfoTop").css("position","static");
                        $("#investbaseInfoTop").css("z-index","100");
                        $("#investbaseInfoTop").css("background-color","#ffffff");
                        $("#investbaseInfoTop").css("top","0px");
                        $("#investbaseInfoTop").css("padding-left","0px");
                        $("#investbaseInfoTop").css("left","0px");
                        $("#investbaseInfoTop").css("box-shadow","");
                    }


            });
        })
    </script>
    <!--展开 S-->
    <script language="JavaScript">
        //    <!--基本信息查看更多-->
        $('.de_170822_d01_d02_a').click(function(){
            $('.de_170822_d01_d02_p').toggleClass('de_170822_d01_d02_p02')
            $('.de_170822_d01_d02_a .de_170822_d01_d02_a_s').toggleClass('de_170822_d01_d02_a_s_no')
            $('.de_170822_d01_d02_a .de_170822_d01_d02_a_s01').toggleClass('de_170822_d01_d02_a_s_no')

        })
        //  融资信息查看更多
        $('.de_170822_d01_d02_a01').click(function(){
            $('.de_170822_d01_d03').toggleClass('de_170822_d01_d03_ov')
            $('.de_170822_d01_d02_a01 .de_170822_d01_d02_a_s').toggleClass('de_170822_d01_d02_a_s_no')
            $('.de_170822_d01_d02_a01 .de_170822_d01_d02_a_s01').toggleClass('de_170822_d01_d02_a_s_no')
        })
        //  团队信息查看更多
        $('.de_170822_d01_d02_a03').click(function(){
            $('.de_170822_d01_d05').toggleClass('de_170822_d01_d05_ov')
            $('.de_170822_d01_d02_a03 .de_170822_d01_d02_a_s').toggleClass('de_170822_d01_d02_a_s_no')
            $('.de_170822_d01_d02_a03 .de_170822_d01_d02_a_s01').toggleClass('de_170822_d01_d02_a_s_no')
        })
        //  股东信息查看更多
        $('.de_170822_d01_d02_a02').click(function(){
            $('.de_170822_d01_d04').toggleClass('de_170822_d01_d04_ov')
            $('.de_170822_d01_d02_a02 .de_170822_d01_d02_a_s').toggleClass('de_170822_d01_d02_a_s_no')
            $('.de_170822_d01_d02_a02 .de_170822_d01_d02_a_s01').toggleClass('de_170822_d01_d02_a_s_no')
        })
        //    联系创始人
        $(".de_170822_d01_d_a01").click(function(){
            $(".details_170714_f").css('display','block')
        })
        //    关闭创始人表单
        $(".details_170714_f_d_del_cha").click(function(){
            $(".details_170714_f").css('display','none')
        })
        function submitFunc() {
            if (!checkStr($('#name').val(), 20)) {
                $('#name').testRemind('请正确填写姓名！');
            } else if (!checkTel($('#tel').val())) {
                $('#tel').testRemind('手机号格式错误！');
            } else if (!checkEmail($('#email').val())) {
                $('#email').testRemind('邮箱格式错误！')
            } else if (!checkStr($('#wechart').val(), 30)) {
                $('#wechart').testRemind('微信为空或超过30字符!')
            } else if ($('#remark').val().length > 100) {
                $('#remark').testRemind('超过100字符！')
            } else {
                var name = $('#name').val();
                var tel = $('#tel').val();
                var email = $('#email').val();
                var wechart = $('#wechart').val();
                var remark = $('#remark').val();
                $.post('/ajax/contact_founder/save', {
                    ncid: '13612882035495224421',
                    cname: '',
                    name: name,
                    tel: tel,
                    email: email,
                    wechart: wechart,
                    remark: remark
                }, function(data) {
                    if(data.code == 0) {
                        $('#connect_box').hide();
                        $('.cyl_pup_ok').fadeIn();
                        var time = setTimeout($('.cyl_pup_ok').fadeOut(1500), 2000);
                    } else {
                        $('#connect_submit').testRemind(data.msg);
                        $('#blackall').show();
                        setTimeout(function (){
                            $('#blackall').hide();
                            $('#connect_box').hide();
                        },1000);
                    }
                })
            }
        };
        function checkStr(str,max) {
            if (str && str.trim().length > 0) {
                if (max && str.trim().length <= max || !max)
                    return true;
            }
            return false;
        }
        function checkTel(mobile) {
            var pattPhone = /^1\d{10}$/;
            if (mobile.length > 0 && pattPhone.test(mobile)) {
                return true;
            }
            return false;
        }
        function checkEmail(email) {
            var pattEmail = /^(\w)+(\.\w+)*@(\w)+((\.\w{2,3}){1,3})$/;
            if (email.length > 0 && pattEmail.test(email)) {
                return true;
            }
            return false;
        }
        $('#connect_submit').on('click', submitFunc);
        $('.details_170714_f_d_in01').keydown(function(e){
            if (e.keyCode == 13) {
                submitFunc();
            };
        });
    </script>
    <!--展开 E-->
    <!--多出的文字，title效果-->
    <script type="text/javascript">
        setOverflow($(".de_170822_d01_d05_d > p"));
        function setOverflow (ele) {
            ele.each(function(){
                var _maxsize=75,  //设置最多显示的字数
                    _self = $(this),
                    _text=_self.text();
                if(_text.length>_maxsize){
                    _self.parent().append('<div class="de_170822_d01_d05_d01">' +_text+ '</div>');
                    _text=_text.substring(0,_maxsize);
                    _self.html(_text+ '<span style="position: relative;top:-4px;">...</span> ');//如果字数超过最大字数，超出部分用...代替
                };
            });
        }
        $('.de_170822_d01_d05_d').mousemove(function(e) {
            var _self=$(this)
            var positionX=e.pageX-_self.offset().left+5; //获取当前鼠标相对ftl_info_wrap的X坐标
            var positionY=e.pageY-_self.offset().top+5; //获取当前鼠标相对ftl_info_wrap的Y坐标
            var _div=_self.children(".de_170822_d01_d05_d01");
            _div.css({"left":positionX+"px","top":positionY+"px"});
        })
    </script>
    <!--轮播图JS  1   S-->
    <script type="text/javascript">
        function drawSlide1(index){
            var currentPosition = index>0?index:0;
            var slideWidth = 940;
            var slides = $('.slide1');
            var numberOfSlides = slides.length;

            // Remove scrollbar in JS
            $('#slidesContainer1').css('overflow', 'hidden');

            // Wrap all .slides with #slideInner div
            slides
                .wrapAll('<div id="slideInner1"></div>')
                // Float left to display horizontally, readjust .slides width
                .css({
                    'float' : 'left',
                    'width' : slideWidth
                });

            // Set #slideInner width equal to total width of all slides
            $('#slideInner1').css('width', slideWidth * numberOfSlides);
            //直接跳转到指定位置
            $('#slideInner1').animate({
                'marginLeft' : 940*(-currentPosition)
            });

            // Insert controls in the DOM
            $('#slideshow1')
                .prepend('<span class="control1" id="leftControl1"></span>')
                .append('<span class="control1" id="rightControl1"></span>');

            // Hide left arrow control on first load
            manageControls(currentPosition);

            // Create event listeners for .controls clicks
            $('.control1')
                .bind('click', function(){
                    // Determine new position
                    currentPosition = ($(this).attr('id')=='rightControl1') ? currentPosition+1 : currentPosition-1;

                    // Hide / show controls
                    manageControls(currentPosition);
                    // Move slideInner using margin-left
                    $('#slideInner1').animate({
                        'marginLeft' : slideWidth*(-currentPosition)
                    });
                });

            // manageControls: Hides and Shows controls depending on currentPosition
            function manageControls(position){
                // Hide left arrow if position is first slide
                if(position==0){ $('#leftControl1').hide() } else{ $('#leftControl1').show() }
                // Hide right arrow if position is last slide
                if(position==numberOfSlides-1){ $('#rightControl1').hide() } else{ $('#rightControl1').show() }
            }
        };
    </script>
    <!--轮播图JS  1   E-->
    <!--轮播图JS  2   S-->
    <script type="text/javascript">
        function drawSlide2(){
            var currentPosition = 0;
            var slideWidth = 940;
            var slides = $('.slide2');
            var numberOfSlides = slides.length;

            // Remove scrollbar in JS
            $('#slidesContainer2').css('overflow', 'hidden');

            // Wrap all .slides with #slideInner div
            slides
                .wrapAll('<div id="slideInner2"></div>')
                // Float left to display horizontally, readjust .slides width
                .css({
                    'float' : 'left',
                    'width' : slideWidth
                });

            // Set #slideInner width equal to total width of all slides
            $('#slideInner2').css('width', slideWidth * numberOfSlides);

            // Insert controls in the DOM
            $('#slideshow2')
                .prepend('<span class="control2" id="leftControl2"></span>')
                .append('<span class="control2" id="rightControl2"></span>');

            // Hide left arrow control on first load
            manageControls(currentPosition);

            // Create event listeners for .controls clicks
            $('.control2')
                .bind('click', function(){
                    // Determine new position
                    currentPosition = ($(this).attr('id')=='rightControl2') ? currentPosition+1 : currentPosition-1;

                    // Hide / show controls
                    manageControls(currentPosition);
                    // Move slideInner using margin-left
                    $('#slideInner2').animate({
                        'marginLeft' : slideWidth*(-currentPosition)
                    });
                });

            // manageControls: Hides and Shows controls depending on currentPosition
            function manageControls(position){
                // Hide left arrow if position is first slide
                if(position==0){ $('#leftControl2').hide() } else{ $('#leftControl2').show() }
                // Hide right arrow if position is last slide
                if(position==numberOfSlides-1){ $('#rightControl2').hide() } else{ $('#rightControl2').show() }
            }
        };
    </script>
    <!--轮播图JS  2   E-->
    <!--轮播图JS  3   S-->
    <script type="text/javascript">
        function drawSlide3(){
            var currentPosition = 0;
            var slideWidth = 940;
            var slides = $('.slide3');
            var numberOfSlides = slides.length;

            // Remove scrollbar in JS
            $('#slidesContainer3').css('overflow', 'hidden');

            // Wrap all .slides with #slideInner div
            slides
                .wrapAll('<div id="slideInner3"></div>')
                // Float left to display horizontally, readjust .slides width
                .css({
                    'float' : 'left',
                    'width' : slideWidth
                });

            // Set #slideInner width equal to total width of all slides
            $('#slideInner3').css('width', slideWidth * numberOfSlides);

            // Insert controls in the DOM
            $('#slideshow3')
                .prepend('<span class="control3" id="leftControl3"></span>')
                .append('<span class="control3" id="rightControl3"></span>');

            // Hide left arrow control on first load
            manageControls(currentPosition);

            // Create event listeners for .controls clicks
            $('.control3')
                .bind('click', function(){
                    // Determine new position
                    currentPosition = ($(this).attr('id')=='rightControl3') ? currentPosition+1 : currentPosition-1;

                    // Hide / show controls
                    manageControls(currentPosition);
                    // Move slideInner using margin-left
                    $('#slideInner3').animate({
                        'marginLeft' : slideWidth*(-currentPosition)
                    });
                });

            // manageControls: Hides and Shows controls depending on currentPosition
            function manageControls(position){
                // Hide left arrow if position is first slide
                if(position==0){ $('#leftControl3').hide() } else{ $('#leftControl3').show() }
                // Hide right arrow if position is last slide
                if(position==numberOfSlides-1){ $('#rightControl3').hide() } else{ $('#rightControl3').show() }
            }
        };
    </script>
    <!--轮播图JS  3   E-->

    <script>
        write_svg();
    </script>
    <script>
        innocharts();
        function innocharts() {


            var DW = $( ".f_c_divs" ).width(),
                DH = 800,
                W = document.body.clientWidth,
                H = document.body.clientHeight;
            W = W<DW ? DW: W;
            H = H<DH ? DH: H;

            function getRetinaRatio() {
                var devicePixelRatio = window.devicePixelRatio || 1;
                var c = document.createElement('canvas').getContext('2d');
                var backingStoreRatio = [
                    c.webkitBackingStorePixelRatio,
                    c.mozBackingStorePixelRatio,
                    c.msBackingStorePixelRatio,
                    c.oBackingStorePixelRatio,
                    c.backingStorePixelRatio,
                    1
                ].reduce(function(a, b) { return a || b });
                return devicePixelRatio / backingStoreRatio;
            }

            var ratio = getRetinaRatio();
            console.log("ratio》》》》》》"+ ratio);
            var SW = W * ratio,
                SH = H * ratio;
            var MW = 206, //SW/7,   //minimap的宽度和高度
                MH = 124; //SH/7;
            var OW,OH;

            OW=DW;OH=DH;

            function reWriteWH(){
                DW = $( ".f_c_divs" ).width();
                DH = 800;
                W = document.body.clientWidth;
                H = document.body.clientHeight;
                W = W<DW ? DW: W;
                H = H<DH ? DH: H;
                ratio = getRetinaRatio();
                SW = W * ratio,
                    SH = H * ratio;
                OW=DW;
                OH=DH;
                canvas = d3.select("#force_canvas")
                    .attr('width', SW)
                    .attr('height', SH)
                    .style('width', W + 'px')
                    .style('height', H + 'px');
                context = canvas.node().getContext("2d")
                context.scale(ratio, ratio),
                    width = W;
                height = H;
            }

            $(".force_Wrap" ).delegate(".force_qp", "click", function( e ) {
                var _self = $(this),
                    _div = $(".force_Wrap");
                if(_self.text()==="全屏查看"){
                    _div.addClass("f_fixed");
                   $("#company_detail_div").css("z-index","1003");
                    _self.text("退出全屏");
                    OW=W;OH=H;
                }else{
                    _div.removeClass("f_fixed");
                    _self.text("全屏查看");
                    $("#company_detail_div").css("z-index","99");

                    OW=DW;OH=DH;
                }
            });

            var canvas = d3.select("#force_canvas")
                    .attr('width', SW)
                    .attr('height', SH)
                    .style('width', W + 'px')
                    .style('height', H + 'px')
                ,
                context = canvas.node().getContext("2d")
            context.scale(ratio, ratio),
                force_minimap=d3.select("#force_minimap")
                    .attr('width', MW)
                    .attr('height', MH)
                    .style('width', MW + 'px')
                    .style('height', MH + 'px')
                ,

                wyminCanvas=d3.select("#wymin_canvas")
                    .attr('width', MW)
                    .attr('height', MH)
                    .style('width', MW + 'px')
                    .style('height', MH + 'px')
                ,

                force_minimap_brush=d3.select("#force_minimap_brush")
                    .attr('width', MW)
                    .attr('height', MH)
                    .style('width', MW + 'px')
                    .style('height', MH + 'px')
                    .attr("x", MW/4)
                    .attr("y", MH/4)
                ,

                width = W,
                height = H,
                FONT_SIZE = "12px Lantinghei SC", //设置字体大小的family
                RADIUS_C = 40,
                RADIUS_H = 30,
                BORDER_WIDTH_NOM = 1,
                BORDER_WIDTH_THR = 1,
                BORDER_WIDTH_HOVR = 4,
                FCOLOR_C= "#FFF",
                FCOLOR_D= "#CCC",
                FCOLOR_H= "#FFF",
                FCOLOR_L= "#000",
                BGCOLOR_C = "#007C36",
                BGCOLOR_H = "#C89F48",
                BGCOLOR_M = "#47A54C",
                BORDER_COLOR_C = "#00AA3A",
                BORDER_COLOR_H = "#C89F48",
                BORDER_COLOR_M = "#D7F4D7",
                RATIO = 2, //适配Retina屏幕

                LCOLOR_GG = "#337D33",
                LCOLOR_CG = "#2171A9",
                LCOLOR_FR = "#AF7E5D",
                LCOLOR_DS = "#337D33",

                ALPHA = .1,
                ALPHB = 1,
                ALPHC = .5,
                ALPHD = 0,

                strengthParm = -1000, //节点比较多时 例如万达500多节点时
                distanceParm = 400,
                strengthParm2 = .8,

                FLAG=false,
                ZFLAG=0,
                WPI=Math.PI/180,
                transform = d3.zoomIdentity;

            var ppi=[],cci=[],ppj=[],ccj=[]; // 统计直接关系人、直接关系公司、间接关系人、间接关系公司。
            //var cid="c_44567";   //当前公司ID



            function GetRequest() {
                var url = location.search; //获取url中"?"符后的字串
                var theRequest = new Object();
                if (url.indexOf("?") != -1) {
                    var str = url.substr(1);
                    var strs = str.split("&");
                    for(var i = 0; i < strs.length; i ++) {
                        theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
                    }
                }
                return theRequest;
            }
            var cid = '13612882035495224421';
            var url = '/inno/company/ajax/relationlist?compId=' + cid;

            d3.json(url, function(error, ret) {
                if (error) throw error;
                console.info(ret.code);
                if(ret.code === 0){
                    $(".force_Wrap").parent().removeClass("hidden");
                    update(ret.data);
                    $("#force_canvas_tab").show();

                    console.log('relationlist:'+ret.data);
                }else{//其他情况隐藏导力图 2017-08-18
                    $(".f_c_divs").hide();
                    $("#force_canvas_tab").hide();

                }
            });


//        var data = {
//            "nodes": [{"isClickable": true, "type": 1, "id": "10460944", "name": "北京因果树贰号网络科技中心（有限合伙）"}, {"type": 2, "id": "2281603579", "name": "马超"}, {"type": 2, "id": "1888154130", "name": "安铮"}, {"isClickable": true, "type": 1, "id": "10460942", "name": "北京因果树叁号网络科技中心（有限合伙）"}, {"isClickable": true, "type": 1, "id": "10460943", "name": "北京因果树壹号网络科技中心（有限合伙）"}, {"isClickable": true, "type": 1, "id": "10404484", "name": "中海亿阳（北京）投资顾问有限公司"}, {"type": 2, "id": "2053352371", "name": "滕放"}, {"isClickable": true, "type": 1, "id": "31792", "name": "北京因果树网络科技有限公司"}, {"type": 2, "id": "2006998473", "name": "林佳莲"}, {"type": 2, "id": "2171357503", "name": "许晓红"}, {"type": 2, "id": "2291240914", "name": "鲁嫚"}, {"type": 2, "id": "1982222005", "name": "李姜元鸿"}, {"isClickable": false, "type": 1, "id": "2345096491", "name": "天风瑞祺（武汉）投资中心（有限合伙）"}, {"isClickable": true, "type": 1, "id": "147656", "name": "北京因果树投资管理有限公司"}], "links": [{"per_type": 1, "source": "2006998473", "target": "10460943", "investType": 2, "position": "法人"}, {"target": "10460944", "per_type": 3, "proportion": "", "source": "2291240914", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "1982222005", "position": "参股", "investType": 2}, {"target": "10460942", "per_type": 3, "proportion": "", "source": "2006998473", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "2291240914", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "2281603579", "position": "参股", "investType": 2}, {"target": "10460943", "per_type": 3, "proportion": "", "source": "2006998473", "position": "参股", "investType": 2}, {"per_type": 1, "source": "2291240914", "target": "147656", "investType": 2, "position": "法人"}, {"per_type": 1, "source": "2006998473", "target": "10460942", "investType": 2, "position": "法人"}, {"per_type": 2, "source": "2281603579", "target": "147656", "investType": 2, "position": "监事"}, {"per_type": 1, "source": "2006998473", "target": "10460944", "investType": 2, "position": "法人"}, {"target": "10460943", "per_type": 3, "proportion": "", "source": "2291240914", "position": "参股", "investType": 2}, {"per_type": 2, "source": "2291240914", "target": "147656", "investType": 2, "position": "执行董事"}, {"target": "31792", "per_type": 3, "proportion": "", "source": "2053352371", "position": "参股", "investType": 2}, {"per_type": 2, "source": "2291240914", "target": "31792", "investType": 2, "position": "监事"}, {"per_type": 1, "source": "1982222005", "target": "31792", "investType": 2, "position": "法人"}, {"target": "31792", "per_type": 3, "proportion": "", "source": "1888154130", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "2345096491", "position": "参股", "investType": 1}, {"target": "10404484", "per_type": 3, "proportion": "", "source": "1982222005", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "2006998473", "position": "参股", "investType": 2}, {"per_type": 2, "source": "2171357503", "target": "31792", "investType": 2, "position": "监事"}, {"target": "10460944", "per_type": 3, "proportion": "", "source": "2006998473", "position": "参股", "investType": 2}, {"per_type": 4, "source": "2291240914", "target": "147656", "investType": 2, "position": "经理"}, {"per_type": 2, "source": "1982222005", "target": "31792", "investType": 2, "position": "执行董事"}, {"per_type": 4, "source": "1982222005", "target": "31792", "investType": 2, "position": "经理"}, {"target": "10460942", "per_type": 3, "proportion": "", "source": "2291240914", "position": "参股", "investType": 2}, {"target": "31792", "per_type": 3, "proportion": "", "source": "10404484", "position": "参股", "investType": 1}, {"target": "147656", "per_type": 3, "proportion": "", "source": "31792", "position": "参股", "investType": 1}]
//        };
//        update(data);
            function update(data) {
                var graph1 = {nodes: [], links: []};
                var wylins = data.links;
                var wymap = d3.nest()
                    .key(function (d) {
                        return [d.source, d.target];
                    })
                    .entries(wylins)
                ;
                var wynodes = d3.nest()
                    .key(function (d) {
                        return d.type;
                    })
                    .entries(data.nodes)
                ;
                console.log("wynodes");
                console.log(wynodes);
                var arrNodeIDs = [];
                console.log(data);
                wystr2(data);
                function wystr2(g) {
                    var s = g.nodes;
                    console.log("nodes"+s.length);
                    for (var i = s.length - 1; i >= 0; --i) {
                        var srr = {};
                        srr.id = s[i].id;
                        srr.name = s[i].name;
                        srr.ntype = srr.id == cid ? "M" : s[i].type === 1 ? "C" : "H";
                        srr.isClickable = s[i].type === 2? false: s[i].isClickable ? true : false;

                        var n = s[i].name;
                        var arr = [];
                        //判断是否含有中文字符
                        var reg = /[\u4E00-\u9FA5\uF900-\uFA2D]/;
                        console.log(reg.test(n));
                        if (!reg.test(n)) {
                            if (n.length <= 8) {
                                //   console.log("英文<=10："+ n + n.length);
                                arr.push(n);
                            } else if (n.length <= 16 && n.length > 8) {
                                //  console.log("16>=英文>10："+ n + n.length);
                                arr.push(n.substr(0, 8));
                                arr.push(n.substr(8, 8));
                            }else if (n.length <= 24 && n.length > 16) {
                                //  console.log("英文>16："+ n + n.length);
                                arr.push(n.substr(0, 6));
                                arr.push(n.substr(6, 10));
                                arr.push(n.substr(16, 8));
                            }else {
                                //  console.log("英文>16："+ n + n.length);
                                arr.push(n.substr(0, 6));
                                arr.push(n.substr(6, 10));
                                arr.push(n.substr(16, 5)+"...");
                            }
                        } else { //为中文
                            if (n.length <= 4) {
                                switch (n.length) {
                                    case 1:
                                        n = "     " + n;
                                        break;
                                    case 2:
                                        n = "   " + n;
                                        break;
                                    case 3:
                                        n = "  " + n;
                                        break;
                                    default:
                                        n = n;
                                        break;
                                }
                                arr.push(n);
                            } else if (n.length <= 8 && n.length > 4) {
                                arr.push(n.substr(0, 4));
                                arr.push(n.substr(4, 4));
                            } else if (n.length <= 12 && n.length > 8) {
                                arr.push(n.substr(0, 3));
                                arr.push(n.substr(3, 5));
                                arr.push(n.substr(8, 4));
                            } else {
                                arr.push(n.substr(0, 3));
                                arr.push(n.substr(3, 5));
                                arr.push(n.substr(8, 3)+"...");
                            }
                        }

                        srr.tagLighter = true;  //添加了高亮属性
                        srr.name_arr = arr;

                        graph1.nodes.push(srr);
                        arrNodeIDs.push(srr.id);
                    }
                }

                //优化组合links
                var newLinks = [];
                reNewLinks(wymap);
                function reNewLinks(s) {
                    for (var ki = s.length - 1; ki >= 0; --ki) {
                        var sv = s[ki].values;
                        for (var vi = sv.length - 1; vi >= 0; --vi) {
                            var lrr = {};
                            var lab, ltype;
                            if (arrNodeIDs.indexOf(sv[vi].source) != -1 && arrNodeIDs.indexOf(sv[vi].target) != -1) {
                                if (sv[vi].investType===2) {
                                    switch (sv[vi].per_type) {
                                        case 1:
                                            lab = "法人";
                                            ltype = "FR";
                                            break;
                                        case 2:
                                            lab = sv[vi].position;
                                            ltype = "GG";
                                            break;
                                        case 3:
                                            //    lab = "股东（占比 " + sv[vi].proportion + "）";
                                            lab = sv[vi].position;
                                            ltype = "CG";
                                            break;
                                        case 4:
                                            lab = sv[vi].position;
                                            ltype = "ZW";
                                            break;
                                        case 5:
                                            lab = sv[vi].position;
                                            ltype = "ZW";
                                            break;
                                        case 6:
                                            lab = sv[vi].position;
                                            ltype = "ZW";
                                            break;
                                        default:
                                            lab = "参股";
                                            ltype = "CG";
                                            break;
                                    }

                                    if (sv[vi].source === cid || sv[vi].target === cid) {

                                        ppi.push(s[ki].key.split(","));
                                    }

                                } else {
                                    lab = "参股";
                                    ltype = "CG";
                                    if (sv[vi].source === cid || sv[vi].target === cid) {
                                        cci.push(s[ki].key.split(","));
                                    }
                                }
                                lrr.source = sv[vi].source;
                                lrr.target = sv[vi].target;
                                lrr.lab = lab;
                                lrr.ltype = ltype;
                                lrr.ind = parseInt(sv.length + "" + (vi + 1));

                                newLinks.push(lrr);

                            }
                        }
                    }
                }

                graph1.links = newLinks;
                console.log(graph1);
                var graph = graph1;  //graph1 为万达地产项目
                //对公司名字做了修改截取。

                if (graph.nodes.length < 100) {
                    strengthParm = -1000;
                    distanceParm = 300;
                    strengthParm2 = .9;
                }

                if (graph.nodes.length < 10) {
                    strengthParm = -600;
                    distanceParm = 180;
                    strengthParm2 = 1;
                }

                var simulation = d3.forceSimulation()
                    .force("link", d3.forceLink().id(function (d) {
                        return d.id;
                    }).distance(distanceParm).strength(strengthParm2))
                    .force("charge", d3.forceManyBody().strength(strengthParm))
                    .force("center", d3.forceCenter(OW / 2, OH / 2))
                    .force("forceCollide", d3.forceCollide(RADIUS_C))
                ;

                simulation
                    .nodes(graph.nodes)
                    .on("tick", render)  //监听tick事件每一帧的变化的函数 如果函数加载的东西太多就卡了
                    .on("end", tickend)
                ;

                simulation.force("link")
                    .links(graph.links);
                var hjmm=0;
                canvas
                    .on("dblclick", function() {
                        console.log("dbclick");
                        var  hjmm = d3.mouse(this);
                        wydbclick(hjmm);
                    })
                    .on("mouseout", function() {
                        console.log("mouseout");
                        d3.select(".force_mb")
                            .attr('class', 'hidden_opc force_mb');

                    })
                    .call(d3.drag()    //拖拽事件
                        .subject(dragsubject)
                        .on("start", dragstarted)
                        .on("drag", dragged)
                        .on("end", dragended))
                    .call(d3.zoom()
                        .scaleExtent([.2, 4])
                        //   .translateExtent([[-300, -300], [width + 300, height + 300]])
                        .on("zoom", zoomed1))
                    .on("dblclick.zoom", null)
                ;


                function zoomed1() {
                    ZFLAG=1;
                    transform = d3.event.transform;
                    zoomed();
                }

                function render() {
                    reWriteWH();
                    context.beginPath();
                    context.clearRect(0, 0, width, height);
                    context.save();
                    context.translate(transform.x, transform.y);
                    context.scale(transform.k, transform.k);
                    wydraw();
                    context.restore();
                    context.closePath();
                    //鹰眼系统
                    //wyminimap();
                }

                function wydraw() {
                    //绘制链接线条
                    graph.links.forEach(drawLink);
                    if (FLAG) {
                        graph.links.forEach(andLinkTexts);
                        graph.links.forEach(addArror);
                    }
                    //绘制圆
                    graph.nodes.forEach(drawNode);
                    if (FLAG) addNT(); //添加节点文字
                }

                function drawNode(d) {
                    var r = RADIUS_C,
                        b = BORDER_COLOR_C,
                        c = BGCOLOR_C;

                    if (d.ntype === "H") {
                        r = RADIUS_H;
                        b = BGCOLOR_H;
                        c = BORDER_COLOR_H;
                    }
                    if (d.ntype === "M") {
                        b = BORDER_COLOR_M;
                        c = BGCOLOR_M;
                    }
                    context.beginPath();
                    context.save();
                    context.moveTo(d.x + r, d.y);
                    context.arc(d.x, d.y, r, 0, 2 * Math.PI);
                    context.fillStyle = c;
                    context.strokeStyle = b;
                    context.setLineDash([0, 0]);
                    context.lineWidth = BORDER_WIDTH_NOM;
                    context.globalAlpha = d.tagLighter === true ? ALPHB : ALPHA;
                    context.fill();
                    context.stroke();
                    context.restore();
                    context.closePath();

                }

                function drawLink(d) {
                    var fk = d.target.y < d.source.y ? -1 : 1;
                    var fh = fk * 12;
                    var fh2 = fk * 6;
                    var color = d.ltype === "ZW" ? LCOLOR_GG:d.ltype === "GG" ? LCOLOR_GG : d.ltype === "CG" ? LCOLOR_CG : d.ltype === "FR" ? LCOLOR_FR : LCOLOR_CG;
                    switch (d.ind) {
                        case 44:
                            drawLinklit(d, color, -(fh2+fh));
                            break;
                        case 43:
                            drawLinklit(d, color, (fh2+fh));
                            break;
                        case 42:
                            drawLinklit(d, color, -fh2);
                            break;
                        case 41:
                            drawLinklit(d, color, fh2);
                            break;
                        case 33:
                            drawLinklit(d, color, fh);
                            break;
                        case 32:
                            drawLinklit(d, color, -fh);
                            break;
                        case 31:
                            drawLinklit(d, color, 0);
                            break;
                        case 22:
                            drawLinklit(d, color, fh2);
                            break;
                        case 21:
                            drawLinklit(d, color, -fh2);
                            break;
                        default:
                            drawLinklit(d, color, 0);
                            break;
                    }
                }

                function drawLinklit(d, clc, dln) {
                    var kS = d.source.ntype === "H" ? RADIUS_H + 1 : RADIUS_C + 1;
                    var kT = d.target.ntype === "H" ? RADIUS_H + 1 : RADIUS_C + 1;
                    var t = calcTranslationExact(dln, d.source, d.target);
                    var angle = t.angle * 180 / Math.PI;
                    var kk = d.target.y < d.source.y ? -1 : 1;
                    kS = kS * kk;
                    kT = kT * kk;
                    var dsx = kS * Math.cos((-angle - 90) * WPI),
                        dsy = kS * Math.sin((-angle - 90) * WPI),
                        dtx = kT * Math.cos((-angle - 90) * WPI),
                        dty = kT * Math.sin((-angle - 90) * WPI);
                    context.beginPath();
                    context.save();
                    context.strokeStyle = clc;
                    context.setLineDash(d.tagLighter === true ? [1, 0] : [5, 2]);
                    context.lineWidth = d.tagLighter === true ? BORDER_WIDTH_THR : BORDER_WIDTH_NOM;
                    context.globalAlpha = d.tagLighter === false ? ALPHA : d.tagLighter === true ? ALPHB : ALPHC;
                    context.moveTo(d.source.x + t.dx - dsx, d.source.y + t.dy - dsy);
                    context.lineTo(d.target.x + t.dx + dtx, d.target.y + t.dy + dty);
                    context.stroke();
                    context.restore();
                    context.closePath();
                }

                function addText() {
                    addNT();
                    graph.links.forEach(andLinkTexts);
                    graph.links.forEach(addArror);
                }

                //添加节点的文字
                function addNT() {
                    //添加文字
                    context.beginPath();
                    graph.nodes.forEach(andNodeTexts);
                    context.stroke();
                }

                //添加节点的文字
                function andNodeTexts(d) {
                    //   var context = canvas.node().getContext("2d");
                    context.beginPath();
                    context.save();
                    context.font = FONT_SIZE;
                    context.fillStyle =(d.ntype === "H")? FCOLOR_C : d.isClickable ? FCOLOR_C:FCOLOR_D;
                    context.globalAlpha = d.tagLighter === true ? ALPHB : ALPHD;
                    switch (d.name_arr.length) {
                        case 1:
                            context.fillText(d.name_arr[0], d.x - 23, d.y + 5);
                            break;

                        case 2:
                            context.fillText(d.name_arr[0], d.x - 23, d.y - 3);
                            context.fillText(d.name_arr[1], d.x - 23, d.y + 13);
                            break;

                        case 3:
                            context.fillText(d.name_arr[0], d.x - 18, d.y - 10);
                            context.fillText(d.name_arr[1], d.x - 30, d.y + 5);
                            context.fillText(d.name_arr[2], d.x - 22, d.y + 20);
                            break;

                        default:
                            return true;
                    }
                    context.restore();
                    context.stroke();
                    context.closePath();
                }

                //添加连接线的文字
                function andLinkTexts(d) {
                    //添加文字
                    if (d.tagLighter != true) return;
                    var context = canvas.node().getContext("2d");
                    var dln = 0;
                    var fk = d.target.y < d.source.y ? -1 : 1;

                    var fh = fk * 14;
                    var fh2 = fk * 6;

                    switch (d.ind) {
                        case 44:
                            dln = -(fh2+fh);
                            break;
                        case 43:
                            dln = (fh2+fh);
                            break;
                        case 42:
                            dln = -fh2;
                            break;
                        case 41:
                            dln = fh2;
                            break;
                        case 33:
                            dln = fh;
                            break;
                        case 32:
                            dln = -fh;
                            break;
                        case 31:
                            dln = 0;
                            break;
                        case 22:
                            dln = fh2;
                            break;
                        case 21:
                            dln = -fh2;
                            break;
                        default:
                            dln = 0;
                            break;
                    }

                    context.beginPath();
                    context.save();
                    context.font = FONT_SIZE;
                    context.fillStyle = FCOLOR_L;
                    context.textAlign = "center";
                    context.globalAlpha = d.tagLighter === true ? ALPHB : ALPHD;
                    var t = calcTranslationExact(dln, d.source, d.target);
                    context.translate((d.source.x + d.target.x) / 2 + t.dx, (d.source.y + d.target.y) / 2 + t.dy);
                    context.rotate(d.target.x < d.source.x ? d.target.y < d.source.y ? -t.angle + 90 * WPI : -t.angle - 90 * WPI : d.target.y < d.source.y ? -t.angle - 90 * WPI : -t.angle + 90 * WPI);
                    context.fillText(d.lab, 0, 6); //添加文字到连接线中间
                    context.restore();
                    context.stroke();
                    context.closePath();
                }

                //添加箭头
                function addArror(d) {
                    //添加文字
                    //    var context = canvas.node().getContext("2d");
                    var dln = 0, color = d.ltype === "ZW" ? LCOLOR_GG :d.ltype === "GG" ? LCOLOR_GG : d.ltype === "CG" ? LCOLOR_CG : d.ltype === "FR" ? LCOLOR_FR : LCOLOR_CG;
                    var fk = d.target.y < d.source.y ? -1 : 1;
                    var fh = fk * 12;
                    var fh2 = fk * 6;
                    switch (d.ind) {
                        case 44:
                            dln = -(fh2+fh);
                            break;
                        case 43:
                            dln = (fh2+fh);
                            break;
                        case 42:
                            dln = -fh2;
                            break;
                        case 41:
                            dln = fh2;
                            break;
                        case 33:
                            dln = fh;
                            break;
                        case 32:
                            dln = -fh;
                            break;
                        case 31:
                            dln = 0;
                            break;
                        case 22:
                            dln = fh2;
                            break;
                        case 21:
                            dln = -fh2;
                            break;
                        default:
                            dln = 0;
                            break;
                    }
                    var t1 = calcTranslationExact(dln, d.source, d.target);

                    var angle = t1.angle * 180 / Math.PI;
                    var ang = 15;

                    var j = 9;
                    var k = d.ntype === "H" ? RADIUS_H : RADIUS_C;

                    var ddx = k * Math.cos((-angle - 90) * WPI),
                        ddy = k * Math.sin((-angle - 90) * WPI);
                    var ang1 = (-angle + ang - 90) * WPI;
                    var ang2 = (-angle - ang - 90) * WPI;


                    if (d.target.y < d.source.y) {
                        ddx = k * Math.cos((-angle + 90) * WPI);
                        ddy = k * Math.sin((-angle + 90) * WPI);
                        j = -j;
                    }
                    var dx1 = j * Math.cos(ang1);
                    var dy1 = j * Math.sin(ang1);
                    var dx2 = j * Math.cos(ang2);
                    var dy2 = j * Math.sin(ang2);


                    var x1 = d.target.x + t1.dx + ddx,
                        y1 = d.target.y + t1.dy + ddy,
                        x2 = x1 + dx1,
                        y2 = y1 + dy1,
                        x3 = x1 + dx2,
                        y3 = y1 + dy2;

                    context.beginPath();
                    context.save();
                    context.moveTo(x1, y1);
                    context.lineTo(x2, y2);
                    context.lineTo(x3, y3);
                    context.fillStyle = color;
                    context.globalAlpha = d.tagLighter === true ? ALPHB : ALPHA;
                    context.fill();
                    context.restore();
                    context.closePath();
                }

                //添加拖拽
                var points = graph.nodes,
                    links = graph.links;

                function dragsubject() {
                    FLAG = true;
                    tagsAllNodes();
                    tagsAllLinks(.8);
                    var i,
                        x = transform.invertX(d3.event.x),
                        y = transform.invertY(d3.event.y),
                        dx,
                        dy;

                    for (i = points.length - 1; i >= 0; --i) {
                        point = points[i];
                        dx = x - point.x;
                        dy = y - point.y;
                        if (dx * dx + dy * dy < RADIUS_C * RADIUS_C) {
                            point.x = transform.applyX(point.x);
                            point.y = transform.applyY(point.y);
                            return point;
                        } else {
                            simulation.alphaTarget(0).restart();
                        }
                    }
                }

                //拖拽开始绑定的回调函数参数为node节点，首先判断事件是否活动并设置动画的a曲线值。
                //这个值是设置动画效果的，然后重新渲染。
                //这里fx为当前节点的固定坐标，x为节点的原始坐标。
                function dragstarted() {
                    var wlinks = getEVELinks(point.id);
                    tagEVENodes(wlinks.arrNids);
                    if (!d3.event.active) simulation.alphaTarget(.1).restart();
                    d3.event.subject.fx = transform.invertX(d3.event.subject.x);
                    d3.event.subject.fy = transform.invertY(d3.event.subject.y);
                }

                //拖拽中的回调函数，参数还是为node节点，这里不断的更新节点的固定坐标根据鼠标事件的坐标
                function dragged() {
                    d3.event.subject.fx = transform.invertX(d3.event.x); //d3.event.x;
                    d3.event.subject.fy = transform.invertY(d3.event.y); //d3.event.y;
                }

                //拖拽结束回调函数，参数也是node节点，判断事件状态动画系数设置为0结束动画，并设置固定坐标都为null。
                function dragended() {
                    if (!d3.event.active) simulation.alphaTarget(0);
                }

                function getEVELinks(id) {
                    var arrLs = [], arrNids = [id];
                    for (var i = links.length - 1; i >= 0; --i) {
                        if (links[i].source.id === id || links[i].target.id === id) {
                            arrLs.push(links[i]);
                            arrNids.push(links[i].target.id);
                            arrNids.push(links[i].source.id);
                            tagEVELink(links[i], true);  //连接线添加高亮属性
                        } else {
                            tagEVELink(links[i], false);  //连接线添加高亮属性
                        }
                    }
                    return {
                        arrLs: arrLs,
                        arrNids: arrNids
                    }
                }

                //分别给link添加tagLighter属性 render时加亮
                function tagEVELink(eveLink, isTure) {
                    return eveLink.tagLighter = isTure;
                }

                //给全部nodes添加tagLighter属性 render时加亮
                function tagEVENodes(ids) {
                    for (var i = points.length - 1; i >= 0; --i) {
                        if (ids.indexOf(points[i].id) === -1) {
                            points[i].tagLighter = false;
                        } else {
                            points[i].tagLighter = true;
                        }
                    }
                }

                //渲染结束后执行
                function tickend() {
                    context.beginPath();
                    context.save();
                    graph.nodes.forEach(wyfixed);
                    if (!FLAG) addNT();
                    FLAG = true;
                    context.restore();
                    context.stroke();
                    context.closePath();
                }

                //让结点位置固定
                function wyfixed(d) {
                    d.fx = d.x;
                    d.fy = d.y;
                }

                //绘制复数线条
                function calcTranslationExact(targetDistance, point0, point1) {
                    var x1_x0 = point1.x - point0.x,
                        y1_y0 = point1.y - point0.y,
                        x2_x0, y2_y0;
                    if (y1_y0 === 0) {
                        x2_x0 = 0;
                        y2_y0 = targetDistance;
                    } else {
                        var angle = Math.atan((x1_x0) / (y1_y0));

                        x2_x0 = -targetDistance * Math.cos(angle);
                        y2_y0 = targetDistance * Math.sin(angle);
                    }
                    return {
                        dx: x2_x0,
                        dy: y2_y0,
                        angle: angle
                    };
                }

                function tagsAllNodes() {
                    var s = graph.nodes;
                    for (var i = s.length - 1; i >= 0; --i) {
                        graph.nodes[i].tagLighter = true;  //添加了高亮属性
                    }
                }

                tagsAllLinks(true);
                function tagsAllLinks(isTag) {
                    var s = graph.links;
                    for (var i = s.length - 1; i >= 0; --i) {
                        graph.links[i].tagLighter = isTag;  //添加了高亮属性
                    }
                }

                d3.timer(cloading, 2000);
                function cloading() {
                    if (!FLAG) {
                        ppi = d3.merge(ppi); //多维数组降维
                        ppi = d3.set(ppi).values(); //去重复
                        cci = d3.merge(cci); //多维数组降维
                        cci = d3.set(cci).values(); //去重复
                        var s = wynodes;
                        var ali, alj;
                        for (var i = s.length - 1; i >= 0; --i) {
                            if (s[i].key === "1") {
                                ali = s[i].values.length -1; //公司数量减1 self comp
                            } else {
                                alj = s[i].values.length;
                            }
                        }

                        if (ppi.length > 1){
                            ppi = ppi.length - 1;//减去主企业id
                        }
                        else{
                            ppi =  0;
                        }
                        if (cci.length > 1) {
                            cci = cci.length - 1; //减去主企业id
                        }
                        else{
                            cci =  0;
                        }


                        d3.select(".force_tooltips .fc_zj").text((typeof(cci) == "undefined" || isNaN(cci) || cci < 0 )? 0 : cci);
                        d3.select(".force_tooltips .fp_zj").text((typeof(ppi) == "undefined" || isNaN(ppi) || ppi < 0 )? 0 : ppi);
                        d3.select(".force_tooltips .fc_jj").text((typeof(ali - cci) == "undefined" || isNaN(ali - cci) || ali - cci < 0 )? 0 : ali - cci);
                        d3.select(".force_tooltips .fp_jj").text((typeof(alj - ppi) == "undefined" || isNaN(alj - ppi) || alj - ppi < 0 )? 0 : alj - ppi);

                        tickend();
                        tagsAllLinks(.8);
                        d3.select(".force_mb")
                            .attr('class', 'hidden_opc force_mb')
                            .on("mousedown", function() {
                                console.log("click");
                                d3.select(this)
                                    .attr('class', 'hidden force_mb');
                            })
                            .select(".force_lording")
                            .attr('class','hidden')

                        ;

                        console.log("直接关系人、" + ppi + "直接关系公司、" + cci + "间接关系人、" + ppj + "间接关系公司" + ccj);
                    }
                    wyminimap(context);
                }

                function wydbclick(m) {
                    var i,
                        x = transform.invertX(m[0]),
                        y = transform.invertY(m[1]),
                        dx,
                        dy;

                    for (i = points.length - 1; i >= 0; --i) {
                        var point = points[i];
                        var dx = x - point.x;
                        var dy = y - point.y;

                        if (dx * dx + dy * dy < RADIUS_C * RADIUS_C) {
                            // point.x = transform.applyX(point.x);
                            //  point.y = transform.applyY(point.y);
                            if(point.isClickable){
                                var id=point.id;
                                window.open('/inno/company/'+id+'.html');
                                //location.href='/innos/company/'+id+'.html';
                                //   'tfront.innotree.cn/id='+id;
                            }
                        }
                    }
                }
                var destinationCtx = wyminCanvas.node().getContext("2d");
                /** MINIMAP **/
                function wyminimap(context) {
                    console.log("wyminimap");

                    var ss = document.getElementById("force_canvas");
                    var ctx=ss.getContext("2d");

                    destinationCtx.beginPath();
                    destinationCtx.clearRect(0, 0, width, height);
                    destinationCtx.save();
                    destinationCtx.translate(MW/4, MH/4);
                    destinationCtx.scale(.1, .1);
                    //绘制圆
                    graph.nodes.forEach(drawNode2);

                    //绘制笔刷
                    destinationCtx.restore();
                    destinationCtx.closePath();

                    function drawNode2(d) {
                        var r = RADIUS_C,
                            b = BORDER_COLOR_C,
                            c = BGCOLOR_C;

                        if (d.ntype === "H") {
                            r = RADIUS_H;
                            b = BGCOLOR_H;
                            c = BORDER_COLOR_H;
                        }
                        if (d.ntype === "M") {
                            b = BORDER_COLOR_M;
                            c = BGCOLOR_M;
                        }
                        destinationCtx.beginPath();
                        destinationCtx.save();
                        destinationCtx.moveTo(d.x+ r, d.y);
                        destinationCtx.arc(d.x, d.y, r, 0, 2 * Math.PI);
                        destinationCtx.fillStyle = c;
                        destinationCtx.strokeStyle = b;
                        destinationCtx.lineWidth = BORDER_WIDTH_NOM;
                        destinationCtx.globalAlpha = d.tagLighter === true ? ALPHB : ALPHA;
                        destinationCtx.fill();
                        destinationCtx.stroke();
                        destinationCtx.restore();
                        destinationCtx.closePath();

                    }
                    //    var imgData=ctx.getImageData(width/2,height/2,width,height);
                    //    destinationCtx.putImageData(imgData,0,0);
                }

                var rect_wy = force_minimap_brush.append("g")
                    .append("rect")
                    .attr("class", "fmb_rect")
                    .attr("width", MW/2)
                    .attr("height", MH/2)
                    .attr("x", MW/4)
                    .attr("y", MH/4)
                ;

                rect_wy.x=MW/4;
                rect_wy.y=MH/4;

                d3.selectAll(".fmb_rect").call(d3.zoom()
                    .scaleExtent([.2, 4])
                    //   .translateExtent([[-300, -300], [width + 300, height + 300]])
                    .on("zoom", zoomed2))
                    .on("dblclick.zoom", null)
                ;
                //var transform2;
                function zoomed2() {
                    ZFLAG=2;
                    zoomed();
                }

                function zoomed(){
                    if(ZFLAG===2){
                        var transform2 = d3.event.transform;
                        rect_wy.attr("transform", "translate(" + transform2.x + "," + transform2.y+"),scale(" + transform2.k + "," + transform2.k+ ")");
                        console.log("zoomed2!");
                        context.beginPath();
                        context.clearRect(0, 0, width, height);
                        context.save();
                        context.scale(1/transform2.k,1/transform2.k);
                        context.translate(-transform2.x*10, -transform2.y*10);
                        wydraw();
                        context.restore();
                        context.closePath();
                        transform.x = -transform2.x*10;
                        transform.y = -transform2.y*10;
                        transform.k = 1/transform2.k;
                    }
                    if(ZFLAG===1) {
                        console.log("zoomed1!");
                        context.save();
                        render();
                        context.restore();
                        FLAG = true;
                        rect_wy.attr("transform", "translate(" + (-(transform.x / 10) / transform.k) + "," + (-(transform.y / 10) / transform.k) + "),scale(" + 1 / transform.k + "," + 1 / transform.k + ")");
                    }

                }
            }

            //这里fx为当前节点的固定坐标，x为节点的原始坐标。
            function minimapDragStart() {
                console.log("minimapDragStart");
                if (!d3.event.active) console.log("minimapDragStart !d3.event.active");
                d3.event.subject.fx = transform.invertX(d3.event.subject.x);
                d3.event.subject.fy = transform.invertY(d3.event.subject.y);
            }

            function minimapDragged() {
                console.log("minimapDragged");
                d3.event.subject.fx = transform.invertX(d3.event.x); //d3.event.x;
                d3.event.subject.fy = transform.invertY(d3.event.y); //d3.event.y;
            }

            function minimapDragended() {
                console.log("minimapDragended");
                if (!d3.event.active) simulation.alphaTarget(0);
            }

            function brushended() {
                if (!d3.event.selection) {
                    console.log("brushended");
                }
            }
            /** MINIMAP **/
            var d4minimap = function() {
                "use strict";
                var minimapScale    = 0.15,
                    scale           = 1,
                    zoom            = null,
                    base            = null,
                    target          = null,
                    width           = 0,
                    height          = 0,
                    x               = 0,
                    y               = 0,
                    frameX          = 0,
                    frameY          = 0;

                function minimap(selection) {

                    base = selection;

                    var container = selection.append("g")
                        .attr("class", "minimap")
                        .call(zoom);

                    zoom.on("zoom.minimap", function() {
                        scale = d3.event.scale;
                    });


                    minimap.node = container.node();

                    var frame = container.append("g")
                        .attr("class", "frame")

                    frame.append("rect")
                        .attr("class", "background")
                        .attr("width", width)
                        .attr("height", height)
                        .attr("filter", "url(#minimapDropShadow)");

                    var drag = d3.behavior.drag()
                        .on("dragstart.minimap", function() {
                            var frameTranslate = d3.demo.util.getXYFromTranslate(frame.attr("transform"));
                            frameX = frameTranslate[0];
                            frameY = frameTranslate[1];
                        })
                        .on("drag.minimap", function() {
                            d3.event.sourceEvent.stopImmediatePropagation();
                            frameX += d3.event.dx;
                            frameY += d3.event.dy;
                            frame.attr("transform", "translate(" + frameX + "," + frameY + ")");
                            var translate =  [(-frameX*scale),(-frameY*scale)];
                            target.attr("transform", "translate(" + translate + ")scale(" + scale + ")");
                            zoom.translate(translate);
                        });

                    frame.call(drag);

                    /** RENDER **/
                    minimap.render = function() {
                        scale = zoom.scale();
                        container.attr("transform", "translate(" + x + "," + y + ")scale(" + minimapScale + ")");
                        var node = target.node().cloneNode(true);
                        node.removeAttribute("id");
                        base.selectAll(".minimap .panCanvas").remove();
                        minimap.node.appendChild(node);
                        var targetTransform = d3.demo.util.getXYFromTranslate(target.attr("transform"));
                        frame.attr("transform", "translate(" + (-targetTransform[0]/scale) + "," + (-targetTransform[1]/scale) + ")")
                            .select(".background")
                            .attr("width", width/scale)
                            .attr("height", height/scale);
                        frame.node().parentNode.appendChild(frame.node());
                        d3.select(node).attr("transform", "translate(1,1)");
                    };
                }


//============================================================
// Accessors
//============================================================

                minimap.width = function(value) {
                    if (!arguments.length) return width;
                    width = parseInt(value, 10);
                    return this;
                };


                minimap.height = function(value) {
                    if (!arguments.length) return height;
                    height = parseInt(value, 10);
                    return this;
                };


                minimap.x = function(value) {
                    if (!arguments.length) return x;
                    x = parseInt(value, 10);
                    return this;
                };


                minimap.y = function(value) {
                    if (!arguments.length) return y;
                    y = parseInt(value, 10);
                    return this;
                };


                minimap.scale = function(value) {
                    if (!arguments.length) { return scale; }
                    scale = value;
                    return this;
                };


                minimap.minimapScale = function(value) {
                    if (!arguments.length) { return minimapScale; }
                    minimapScale = value;
                    return this;
                };


                minimap.zoom = function(value) {
                    if (!arguments.length) return zoom;
                    zoom = value;
                    return this;
                };


                minimap.target = function(value) {
                    if (!arguments.length) { return target; }
                    target = value;
                    width  = parseInt(target.attr("width"),  10);
                    height = parseInt(target.attr("height"), 10);
                    return this;
                };

                return minimap;
            };
            $(".force_minimap_close").click(function(){
                $(this).parent().css("display","none");
            });
        }
    </script>
    <script type="text/javascript">
        /*********滚动条***********/
        $(window).resize(function() {
            changeSize();
        });
        changeSize();
        function changeSize() {
            var _schgt= document.body.clientHeight;

            var _max_lenght=parseInt(_schgt-80);
            var _nil_lenght=582;

            if (_max_lenght<_nil_lenght){
                $('.f_n_links').css({"max-height":_max_lenght+"px","overflow-y":"auto"});
            }else{
                $('.f_n_links').css("overflow-y","hidden");
            }
            $('.f_n_links').perfectScrollbar({
                wheelSpeed: 10,
                wheelPropagation: false
            });
        }

    </script>

    <script>
        $('body').on('click','#feedback',function (){
            window.location.href = '/feedback';
        });
        $('body').on('click','#follow',function (){
            var _this =this;
             var url="";
             if($(_this).data("bind") == "0"){
                 url = "/ajax/follow/company";
             }else{
                 url = "/ajax/unfollow/company";
             }
            $.ajax({
                url: url,
                data: {type: "c",id:'13612882035495224421'},
                dataType: 'json'
            }).success(function(ret){
                if (ret.code == 0) {
                    if($(_this).data("bind") == "0"){
                        $(_this).data("bind","1");
                        $("#follow").html("已关注");
                        $(_this).addClass("followed")
                    }else{
                        $(_this).data("bind","0");
                        $("#follow").html("关注");
                        $(_this).removeClass("followed")

                    }
                }else{
                    if ( JSON.parse(ret).code == 601) {
                        location.href = '/inno/user/login.html?ref='+'%2Finno%2Fcompany%2F13612882035495224421.html';
                    }
                }
            })

        });

        $('.onal_180103_d01').on('click','a',function (){
            var href = $(this).attr("href");
            var pos = $(href).offset().top - 160;
            $("html,body").animate({scrollTop: pos}, 300);
            $(this).parent().find("a").removeClass("onal_180103_d01_a_select");
            $(this).addClass("onal_180103_d01_a_select");
            return false;
        });


    </script>

    <!--多出的文字，title效果-->
    <script type="text/javascript">
        setOverflow($(".ftl_intro_001>p"));
        function setOverflow (ele) {
            ele.each(function(){
                var _maxsize=44,  //设置最多显示的字数
                    _self = $(this),
                    _text=_self.text();
                if(_text.length>_maxsize){
                    _self.parent().append('<div class="overflow_info_001 hidden">' +_text+ '</div>');
                    _text=_text.substring(0,_maxsize);
                    _self.html(_text+ '<span style="position: relative;top:-4px;">...</span> ');//如果字数超过最大字数，超出部分用...代替
                };
            });
        }
        $('.ftl_intro_001').mousemove(function(e) {
            var _self=$(this)
            var positionX=e.pageX-_self.offset().left+5; //获取当前鼠标相对ftl_info_wrap的X坐标
            var positionY=e.pageY-_self.offset().top+5; //获取当前鼠标相对ftl_info_wrap的Y坐标
            var _div=_self.children(".overflow_info_001");
            _div.css({"left":positionX+"px","top":positionY+"px"});
        })
    </script>
    <script type="text/javascript">
        setOverflow($(".de_170822_d01_d05_d_01 > p"));
        function setOverflow (ele) {
            ele.each(function(){
                var _maxsize=6,  //设置最多显示的字数
                    _self = $(this),
                    _text=_self.text();
                if(_text.length>_maxsize){
                    _self.parent().append('<div class="de_170822_d01_d05_d01_01">' +_text+ '</div>');
                    _text=_text.substring(0,_maxsize);
                    _self.html(_text+ '<span style="position: relative;top:-4px;">...</span> ');//如果字数超过最大字数，超出部分用...代替
                };
            });
        }
        $('.de_170822_d01_d05_d_01').mousemove(function(e) {
            var _self=$(this)
            var positionX=e.pageX-_self.offset().left+5; //获取当前鼠标相对ftl_info_wrap的X坐标
            var positionY=e.pageY-_self.offset().top+5; //获取当前鼠标相对ftl_info_wrap的Y坐标
            var _div=_self.children(".de_170822_d01_d05_d01_01");
            _div.css({"left":positionX+"px","top":positionY+"px"});
        })
    </script>
    <svg xmlns="http://www.w3.org/2000/svg" width="0" height="0" display="none">
        <symbol id="cylico_ckbox_1" viewBox="0 0 64 64">
            <title>cylico_ckbox_1</title>
            <path class="cls-1" d="M54.86,62H9.14A7.15,7.15,0,0,1,2,54.86V9.14A7.15,7.15,0,0,1,9.14,2H54.86A7.15,7.15,0,0,1,62,9.14V54.86A7.15,7.15,0,0,1,54.86,62ZM9.14,4.86A4.29,4.29,0,0,0,4.86,9.14V54.86a4.29,4.29,0,0,0,4.29,4.29H54.86a4.29,4.29,0,0,0,4.29-4.29V9.14a4.29,4.29,0,0,0-4.29-4.29Z"/>
            <polygon class="cls-1" points="24.73 48.87 12.42 36.07 14.49 34.09 24.58 44.6 49.39 15.13 51.58 16.97 24.73 48.87"/>
        </symbol>

        <symbol id="cylico_ckbox_0" viewBox="0 0 64 64">
            <title>cylico_ckbox_0</title>
            <path class="cls-1" d="M54.86,62H9.14A7.15,7.15,0,0,1,2,54.86V9.14A7.15,7.15,0,0,1,9.14,2H54.86A7.15,7.15,0,0,1,62,9.14V54.86A7.15,7.15,0,0,1,54.86,62ZM9.14,4.86A4.29,4.29,0,0,0,4.86,9.14V54.86a4.29,4.29,0,0,0,4.29,4.29H54.86a4.29,4.29,0,0,0,4.29-4.29V9.14a4.29,4.29,0,0,0-4.29-4.29Z"/>
        </symbol>

        <symbol id="cylico_down" viewBox="0 0 64 64">
            <title>cylico_down</title>
            <polygon class="cls-1" points="32 37.23 11.77 17 2 17 32 47 62 17 52.23 17 32 37.23"/>
        </symbol>

        <symbol id="cylico_right" viewBox="0 0 64 64">
            <title>cylico_right</title>
            <polygon class="cls-1" points="18.57 62 15.47 58.91 42.35 31.98 15.47 5.1 18.57 2 48.53 31.97 18.57 62"/>
        </symbol>

        <symbol id="cylico_excel" viewBox="0 0 64 64">
            <title>cylico_excel</title>
            <path class="cls-1" d="M60.48,10.35V54.56H40.66V10.35Zm1-1.58H39.62V56.14h21.9V8.77"/>
            <path class="cls-1" d="M56.9,16.22H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44a.68.68,0,1,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44A.68.68,0,0,1,44,23H56.9a.68.68,0,1,1,0,1.35Zm0,4.06H44A.68.68,0,1,1,44,27H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Zm0,4.06H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Z"/>
            <path class="cls-1" d="M56.9,48.7H44a.68.68,0,0,1,0-1.35H56.9a.68.68,0,0,1,0,1.35Z"/>
            <path class="cls-2" d="M10.22,21.91h7.59l4,6.86,3.84-6.86h7.52l-6.94,10.8,7.6,11.5H26L21.63,37l-4.41,7.17H9.52l7.7-11.63Z"/>
            <path class="cls-1" d="M38.08,6.41a1.29,1.29,0,0,1,1.34,1.24V57.27a1.29,1.29,0,0,1-1.34,1.24l-.26,0-33.63-6A1.27,1.27,0,0,1,3.1,51.26V13.65a1.27,1.27,0,0,1,1.09-1.22l33.63-6,.26,0Zm0-1.58a3.14,3.14,0,0,0-.54,0l-33.63,6a2.85,2.85,0,0,0-2.39,2.77V51.26A2.85,2.85,0,0,0,3.91,54l33.63,6a3.09,3.09,0,0,0,.54,0A2.87,2.87,0,0,0,41,57.27V7.65a2.87,2.87,0,0,0-2.92-2.82h0"/>
        </symbol>
    </svg>
<script>
    "use strict";
    var ops={
        "_html" : [
           // ' <ul> <li> <a href="/inno/database/companyList"> <img src="/static/inno/img/comdb.png" alt="公司数据库"> <br> <span>公司数据库</span> </a> </li> <li> <a href="/inno/database/investDeliveryList"> <img src="/static/inno/img/dban.png" alt="投资速递"> <br> <span>投资速递</span> </a> </li> <li> <a href="/inno/database/superStarList"> <img src="/static/inno/img/supsta.png" alt="超新星"> <br> <span>超新星</span> </a> </li> <li> <a href="/inno/database/institutionList"> <img src="/static/inno/img/orgdb.png" alt="机构数据库"> <br> <span>机构数据库</span> </a> </li> </ul> ',
            ' <ul> <li> <a href="/inno/database/companyList"> <img src="/static/inno/img/comdb.png" alt="公司数据库"> <br> <span>公司数据库</span> </a> </li> <li> <a href="/inno/database/investDeliveryList"> <img src="/static/inno/img/dban.png" alt="投资速递"> <br> <span>投资速递</span> </a> </li>  <li> <a href="/inno/database/institutionList"> <img src="/static/inno/img/orgdb.png" alt="机构数据库"> <br> <span>机构数据库</span> </a> </li> </ul> ',
            ' <ul> <li> <a href="/inno/insight/newChain"> <img src="/static/inno/img/innochain.png" alt="产业链"> <br> <span>产业链</span> </a> </li>  <li> <a href="/inno/insight/cloudmap"> <img src="/static/inno/img/innocmap.png" alt="云地图"> <br> <span>云地图</span> </a> </li> <li> <a href="/inno/insight/bigdata/industry_matrix.html"> <img src="/static/inno/img/innobdata.png" alt="行业大数据"> <br> <span>行业大数据</span> </a> </li> </ul> '
        ],
        "$nav" : $('.sub-nav-9'),
        "$li": $('.nav-9 ol li.mul'),
        "$snl":$('.nav-9 ol li.snl')

    };

    wy88y();
    function wy88y() {
        ops.$li.mouseenter(
            function() {
                var e = $(this).addClass("hover"),
                    i = $(this).attr("index"),
                    o = ops.$nav;
                o .attr("index",i)
                    .html('')
                    .html(ops._html[i])
                    .addClass("anti-h");
            }).mouseleave(function() {
                ops.$li.removeClass("hover");
            }),
            ops.$snl.mouseenter(
                function() {
                    ops.$nav.removeClass("anti-h");
                }),
            ops.$nav.mouseenter(function() {
                var i = $(this).attr('index');
                $(this).addClass("anti-h");
                ops.$li.each(function(){
                    if(i===$(this).attr("index"))
                        $(this).addClass("hover");
                });
            }).mouseleave(function() {
                $(this).removeClass("anti-h");
                ops.$li.removeClass("hover");
            })
    }

    //密码睁眼闭眼效果
    $(".fw-epwd").click(function () {
        var _self = $(this);
        if(_self.hasClass("close")){
            _self.removeClass("close")
        }
        else{
            _self.addClass("close")
        }
    });



</script>
</body>
</html>
+d8053f3eb827b6bc22006b7200ba2f5e+{"code":0,"msg":"OK","data":[{"pid":"8417335878842908731","sName":"微警认证","logo":"https://innotreelogo.qiniu.innotree.cn/FvCWnKdSGfG-XN0n3zoWjTgyXcEB","score":587,"introduction":"微警认证，是广州南沙公安微警团队与公安部研究所联合研发的全国领先的以法定证件“居民二代身份证”为信任根的互联网可信身份认证。该应用通过手机对身份证件进行读卡联网验证的同时，运用活体人像比对技术实现“人证同一性”校验，认证范围覆盖全国14亿人口，认证过程不会传输公民隐私资料。微警认证开放接口，供其他Android客户端快速接入，共同加速以二代证为信任根的可信互联网络体系建设，让用户远离网络诈骗、虚假信息、冒名约车等违法犯罪，让互联网更可靠。微警认证v2.2.0更新:1、新增实名寄件功能，收寄件更方便；2、全新的注册模块，更省心、更快捷；3、全新打磨的UI风格，更美观、更流畅；4、全新的读身份证认证模式，实名可靠性大大增强；5、修复了一些已知问题，优化程序性能。"}]}
